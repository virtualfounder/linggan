function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/prod-B_fh46Mt.js","assets/app-Dc2iKeFD.js","assets/vidstack-audio-BGH9t2_d.js","assets/vidstack-Dgd3Tj9x-B08C4O4p.js","assets/vidstack-Ccp8mxka-qTmYQ6JP.js","assets/vidstack-video-DBF2erZN.js","assets/vidstack-dash-CiajVXhq.js","assets/vidstack-hls-DbreR3GZ.js","assets/vidstack-vimeo-CrRoTn9A.js","assets/vidstack-HTyVv8Yq-CQZysJVn.js","assets/vidstack-BTBUzdbF-Cao5mZMB.js","assets/vidstack-youtube-B9F30UZb.js","assets/vidstack-DscYSLiW-CA6XwpqT.js","assets/vidstack-Co3KQCSA-BELn3uK4.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as lt}from"./app-Dc2iKeFD.js";const kt=Symbol(0);let es=!1,Js=!1,yt=null,re=null,ft=null,ot=0,ne=[],yi={};const Ca=()=>{},de=0,Rr=1,Te=2,Os=3;function Oa(){es=!0,queueMicrotask(_r)}function _r(){if(!ne.length){es=!1;return}Js=!0;for(let i=0;i<ne.length;i++)ne[i].$st!==de&&La(ne[i]);ne=[],es=!1,Js=!1}function La(i){let t=[i];for(;i=i[kt];)i.$e&&i.$st!==de&&t.push(i);for(let e=t.length-1;e>=0;e--)xi(t[e])}function Da(i){const t=ss();return De(t,i.length?i.bind(null,oe.bind(t)):i,null)}function b(i){return De(yt,i,null)}function $i(i){return De(null,i,null)}function Ot(){Js||_r()}function Ls(){return yt}function J(i,t){try{return De(t,i,null)}catch(e){wi(t,e);return}}function Fr(i,t=yt){return t==null?void 0:t.$cx[i]}function Ma(i,t,e=yt){e&&(e.$cx={...e.$cx,[i]:t})}function A(i){if(!i||!yt)return i||Ca;const t=yt;return t.$d?Array.isArray(t.$d)?t.$d.push(i):t.$d=[t.$d,i]:t.$d=i,function(){t.$st!==Os&&(i.call(null),Ds(t.$d)?t.$d=null:Array.isArray(t.$d)&&t.$d.splice(t.$d.indexOf(i),1))}}function oe(i=!0){if(this.$st!==Os){if(this.$h)if(Array.isArray(this.$h))for(let t=this.$h.length-1;t>=0;t--)oe.call(this.$h[t]);else oe.call(this.$h);if(i){const t=this[kt];t&&(Array.isArray(t.$h)?t.$h.splice(t.$h.indexOf(this),1):t.$h=null),qa(this)}}}function qa(i){i.$st=Os,i.$d&&jr(i),i.$s&&ze(i,0),i[kt]=null,i.$s=null,i.$o=null,i.$h=null,i.$cx=yi,i.$eh=null}function jr(i){try{if(Array.isArray(i.$d))for(let t=i.$d.length-1;t>=0;t--){const e=i.$d[t];e.call(e)}else i.$d.call(i.$d);i.$d=null}catch(t){wi(i,t)}}function De(i,t,e){const s=yt,n=re;yt=i,re=e;try{return t.call(i)}finally{yt=s,re=n}}function wi(i,t){if(!i||!i.$eh)throw t;let e=0,s=i.$eh.length,n=Ln(t);for(e=0;e<s;e++)try{i.$eh[e](n);break}catch(r){n=Ln(r)}if(e===s)throw n}function Ln(i){return i instanceof Error?i:Error(JSON.stringify(i))}function vi(){return this.$st===Os?this.$v:(re&&!this.$e&&(!ft&&re.$s&&re.$s[ot]==this?ot++:ft?ft.push(this):ft=[this]),this.$c&&xi(this),this.$v)}function Vr(i){const t=Ds(i)?i(this.$v):i;if(this.$ch(this.$v,t)&&(this.$v=t,this.$o))for(let e=0;e<this.$o.length;e++)Wr(this.$o[e],Te);return this.$v}const Ti=function(){this[kt]=null,this.$h=null,yt&&yt.append(this)},Jt=Ti.prototype;Jt.$cx=yi;Jt.$eh=null;Jt.$c=null;Jt.$d=null;Jt.append=function(i){i[kt]=this,this.$h?Array.isArray(this.$h)?this.$h.push(i):this.$h=[this.$h,i]:this.$h=i,i.$cx=i.$cx===yi?this.$cx:{...this.$cx,...i.$cx},this.$eh&&(i.$eh=i.$eh?[...i.$eh,...this.$eh]:this.$eh)};Jt.dispose=function(){oe.call(this)};function ss(){return new Ti}const Nr=function(t,e,s){Ti.call(this),this.$st=e?Te:de,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=t,e&&(this.$c=e),s&&s.dirty&&(this.$ch=s.dirty)},ki=Nr.prototype;Object.setPrototypeOf(ki,Jt);ki.$ch=Ia;ki.call=vi;function Si(i,t,e){return new Nr(i,t,e)}function Ia(i,t){return i!==t}function Ds(i){return typeof i=="function"}function xi(i){if(i.$st===Rr)for(let t=0;t<i.$s.length&&(xi(i.$s[t]),i.$st!==Te);t++);i.$st===Te?Hr(i):i.$st=de}function Dn(i){i.$h&&oe.call(i,!1),i.$d&&jr(i),i.$eh=i[kt]?i[kt].$eh:null}function Hr(i){let t=ft,e=ot;ft=null,ot=0;try{Dn(i);const s=De(i,i.$c,i);if(ft){if(i.$s&&ze(i,ot),i.$s&&ot>0){i.$s.length=ot+ft.length;for(let r=0;r<ft.length;r++)i.$s[ot+r]=ft[r]}else i.$s=ft;let n;for(let r=ot;r<i.$s.length;r++)n=i.$s[r],n.$o?n.$o.push(i):n.$o=[i]}else i.$s&&ot<i.$s.length&&(ze(i,ot),i.$s.length=ot);!i.$e&&i.$i?Vr.call(i,s):(i.$v=s,i.$i=!0)}catch(s){wi(i,s),i.$st===Te&&(Dn(i),i.$s&&ze(i,0));return}ft=t,ot=e,i.$st=de}function Wr(i,t){if(!(i.$st>=t)&&(i.$e&&i.$st===de&&(ne.push(i),es||Oa()),i.$st=t,i.$o))for(let e=0;e<i.$o.length;e++)Wr(i.$o[e],Rr)}function ze(i,t){let e,s;for(let n=t;n<i.$s.length;n++)e=i.$s[n],e.$o&&(s=e.$o.indexOf(i),e.$o[s]=e.$o[e.$o.length-1],e.$o.pop())}function is(...i){}function vt(i){return i===null}function $t(i){return typeof i>"u"}function Cl(i){return vt(i)||$t(i)}function Ra(i){return(i==null?void 0:i.constructor)===Object}function pt(i){return typeof i=="number"&&!Number.isNaN(i)}function k(i){return typeof i=="string"}function Mn(i){return typeof i=="boolean"}function Tt(i){return typeof i=="function"}function Y(i){return Array.isArray(i)}var qn;const _a=Event,Br=Symbol("DOM_EVENT");class F extends _a{constructor(t,...e){var n,r;super(t,e[0]),this[qn]=!0,this.triggers=new Fa,this.detail=(n=e[0])==null?void 0:n.detail;const s=(r=e[0])==null?void 0:r.trigger;s&&this.triggers.add(s)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var t;return((t=this.triggers.origin)==null?void 0:t.isTrusted)??!1}}qn=Br;class Fa{constructor(){this.chain=[]}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(t){this.chain.push(t),ja(t)&&this.chain.push(...t.triggers)}remove(t){return this.chain.splice(this.chain.indexOf(t),1)[0]}has(t){return this.chain.some(e=>e===t)}hasType(t){return!!this.findType(t)}findType(t){return this.chain.find(e=>e.type===t)}walk(t){for(const e of this.chain){const s=t(e);if(s)return[e,s]}}[Symbol.iterator](){return this.chain.values()}}function ja(i){return!!(i!=null&&i[Br])}class Ur extends EventTarget{addEventListener(t,e,s){return super.addEventListener(t,e,s)}removeEventListener(t,e,s){return super.removeEventListener(t,e,s)}}function y(i,t,e,s){return i.addEventListener(t,e,s),A(()=>i.removeEventListener(t,e,s))}function In(i){return!!(i!=null&&i.type.startsWith("pointer"))}function Xe(i){return!!(i!=null&&i.type.startsWith("touch"))}function Va(i){return/^(click|mouse)/.test((i==null?void 0:i.type)??"")}function Ms(i){return!!(i!=null&&i.type.startsWith("key"))}function Na(i){return Ms(i)&&i.key==="Enter"}function Gr(i){return Ms(i)&&(i.key==="Enter"||i.key===" ")}function Ha(i){return i instanceof Node}function S(i,t,e){if(i)if(!e&&e!==""&&e!==0)i.removeAttribute(t);else{const s=e===!0?"":e+"";i.getAttribute(t)!==s&&i.setAttribute(t,s)}else return}function ht(i,t,e){if(i)!e&&e!==0?i.style.removeProperty(t):i.style.setProperty(t,e+"");else return}function Rn(i,t,e){i.classList[e?"add":"remove"](t)}function w(i,t){const e=Si(i,null,t),s=vi.bind(e);return s[kt]=!0,s.set=Vr.bind(e),s}function Wa(i){return Ds(i)&&kt in i}function Lt(i,t){const e=Si(t==null?void 0:t.initial,i,t),s=vi.bind(e);return s[kt]=!0,s}function Ba(i,t){const e=Si(null,function(){let n=i();return Ds(n)&&A(n),null},void 0);return e.$e=!0,Hr(e),oe.bind(e,!0)}function Ua(i){return Wa(i)&&"set"in i}const u=Ba;function Mt(i){return{id:Symbol(),provide:i}}function tt(i,t,e=Ls()){var n;const s=!$t(t);Ma(i.id,s?t:(n=i.provide)==null?void 0:n.call(i),e)}function j(i){return Fr(i.id)}function ut(i){return!$t(Fr(i.id))}const me=Symbol(0),be=Symbol(0),Kr=Symbol(0);var _n;const Ws={};class Ga{constructor(t,e,s){var a;this[_n]=null,this.$el=w(null),this.a=null,this.d=null,this.f=null,this.g=null,this.e=null,this.o=!1,this.i=Ws,this.b=null,this.c=null,this.l=[],this.m=[],this.j=[],this.n=[],this.d=e,s!=null&&s.scope&&s.scope.append(e);let n=t.state,r=t.props;if(n&&(this.h=n.create(),this.k=new Proxy(this.h,{get:(o,h)=>this.h[h]()}),tt(n,this.h)),r&&(this.i=Ka(r),s!=null&&s.props))for(const o of Object.keys(s.props))(a=this.i[o])==null||a.set(s.props[o]);A(this.p.bind(this))}w(){J(()=>{for(const t of this.l)t()},this.d)}x(t){this.a||(this.a=t,this.$el.set(t),J(()=>{this.f=ss(),J(()=>{for(const e of this.m)e(this.a);this.q(),this.r()},this.f)},this.d),t.dispatchEvent(new Event("attached")))}s(){var t;(t=this.f)==null||t.dispose(),this.f=null,this.g=null,this.a=null,this.$el.set(null)}y(){!this.a||!this.f||!this.j.length||J(()=>{this.g=ss(),J(()=>{for(const t of this.j)t(this.a)},this.g)},this.f)}z(){var t;(t=this.g)==null||t.dispose(),this.g=null}p(){if(this.o)return;this.o=!0,J(()=>{for(const e of this.n)e(this.a)},this.d);const t=this.a;this.s(),this.d.dispose(),this.l.length=0,this.m.length=0,this.j.length=0,this.n.length=0,this.e=null,this.b=null,this.c=null,this.i=Ws,this.d=null,this.k=Ws,this.h=null,t&&delete t.$}t(t){t.onSetup&&this.l.push(t.onSetup.bind(t)),t.onAttach&&this.m.push(t.onAttach.bind(t)),t.onConnect&&this.j.push(t.onConnect.bind(t)),t.onDestroy&&this.n.push(t.onDestroy.bind(t))}q(){if(this.b)for(const t of Object.keys(this.b))Tt(this.b[t])?u(this.u.bind(this,t)):S(this.a,t,this.b[t])}r(){if(this.c)for(const t of Object.keys(this.c))Tt(this.c[t])?u(this.v.bind(this,t)):ht(this.a,t,this.c[t])}u(t){S(this.a,t,this.b[t].call(this.e))}v(t){ht(this.a,t,this.c[t].call(this.e))}}_n=Kr;function Ka(i){const t={};for(const e of Object.keys(i)){const s=i[e];t[e]=w(s,s)}return t}let ge={$$:null};function Qa(i,t){return Da(()=>{ge.$$=new Ga(i,Ls(),t);const e=new i;return ge.$$.e=e,ge.$$=null,e})}class bt extends EventTarget{constructor(){super(),ge.$$&&this.attach(ge)}get el(){return this.$$.a}get $el(){return this.$$.$el()}get scope(){return this.$$.d}get attachScope(){return this.$$.f}get connectScope(){return this.$$.g}get $props(){return this.$$.i}get $state(){return this.$$.h}get state(){return this.$$.k}attach({$$:t}){return this.$$=t,t.t(this),this}addEventListener(t,e,s){this.listen(t,e,s)}removeEventListener(t,e,s){var n;(n=this.el)==null||n.removeEventListener(t,e,s)}setAttributes(t){this.$$.b||(this.$$.b={}),Object.assign(this.$$.b,t)}setStyles(t){this.$$.c||(this.$$.c={}),Object.assign(this.$$.c,t)}setCSSVars(t){this.setStyles(t)}createEvent(t,...e){return new F(t,e[0])}dispatch(t,...e){if(!this.el)return!1;const s=t instanceof Event?t:new F(t,e[0]);return Object.defineProperty(s,"target",{get:()=>this.$$.e}),$i(()=>{var n,r;return(r=(n=this.$$)[Kr])==null||r.call(n,s),this.el.dispatchEvent(s)})}dispatchEvent(t){return this.dispatch(t)}listen(t,e,s){return this.el?y(this.el,t,e,s):is}}class v extends bt{subscribe(t){return J(()=>u(()=>t(this.state)),this.$$.d)}destroy(){this.$$.p()}}function x(i,t,e){i[me]||(i[me]=new Set),i[me].add(t)}function V(i,t,e){i[be]||(i[be]=new Set),i[be].add(t)}class Wt{constructor(t){this.id=Symbol(0),this.record=t,this.A=Object.getOwnPropertyDescriptors(t)}create(){const t={},e=new Proxy(t,{get:(s,n)=>t[n]()});for(const s of Object.keys(this.record)){const n=this.A[s].get;t[s]=n?Lt(n.bind(e)):w(this.record[s])}return t}reset(t,e){for(const s of Object.keys(t))!this.A[s].get&&(!e||e(s))&&t[s].set(this.record[s])}}function qs(i){return j(i)}function Ya(i,t){for(const e of i)e(t)}function Qr(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function za(i){return i.replace(/-./g,t=>t[1].toUpperCase())}function Xa(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Ol(i){return Tt(i)?i():i}function ns(i){return i?"true":"false"}function Ei(){const i=new Set;return{add(...t){for(const e of t)i.add(e)},empty(){for(const t of i)t();i.clear()}}}function Ll(){const i=Ei();return A(i.empty),i}function Dl(i){return Object.keys(i)}function Zs(){let i,t;return{promise:new Promise((s,n)=>{i=s,t=n}),resolve:i,reject:t}}function Ja(i){return new Promise(t=>setTimeout(t,i))}function Zt(i){let t=-1,e;function s(...n){e=n,!(t>=0)&&(t=window.requestAnimationFrame(()=>{i.apply(this,e),t=-1,e=void 0}))}return s}const Za=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:i=>window.setTimeout(i,1):is;function to(i,t){return new Promise(e=>{Za(s=>{i==null||i(s),e()},t)})}var at={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},Fn=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],jn=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Vn=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Z=typeof window<"u"&&typeof window.document<"u"?window.document:{},dt="fullscreenEnabled"in Z&&Object.keys(at)||Fn[0]in Z&&Fn||jn[0]in Z&&jn||Vn[0]in Z&&Vn||[],jt={requestFullscreen:function(i){return i[dt[at.requestFullscreen]]()},requestFullscreenFunction:function(i){return i[dt[at.requestFullscreen]]},get exitFullscreen(){return Z[dt[at.exitFullscreen]].bind(Z)},get fullscreenPseudoClass(){return":"+dt[at.fullscreen]},addEventListener:function(i,t,e){return Z.addEventListener(dt[at[i]],t,e)},removeEventListener:function(i,t,e){return Z.removeEventListener(dt[at[i]],t,e)},get fullscreenEnabled(){return!!Z[dt[at.fullscreenEnabled]]},set fullscreenEnabled(i){},get fullscreenElement(){return Z[dt[at.fullscreenElement]]},set fullscreenElement(i){},get onfullscreenchange(){return Z[("on"+dt[at.fullscreenchange]).toLowerCase()]},set onfullscreenchange(i){return Z[("on"+dt[at.fullscreenchange]).toLowerCase()]=i},get onfullscreenerror(){return Z[("on"+dt[at.fullscreenerror]).toLowerCase()]},set onfullscreenerror(i){return Z[("on"+dt[at.fullscreenerror]).toLowerCase()]=i}};const rs=Math.min,Qt=Math.max,as=Math.round,Ue=Math.floor,Vt=i=>({x:i,y:i}),eo={left:"right",right:"left",bottom:"top",top:"bottom"},so={start:"end",end:"start"};function Nn(i,t,e){return Qt(i,rs(t,e))}function Pi(i,t){return typeof i=="function"?i(t):i}function he(i){return i.split("-")[0]}function Ai(i){return i.split("-")[1]}function Yr(i){return i==="x"?"y":"x"}function zr(i){return i==="y"?"height":"width"}function Ci(i){return["top","bottom"].includes(he(i))?"y":"x"}function Xr(i){return Yr(Ci(i))}function io(i,t,e){e===void 0&&(e=!1);const s=Ai(i),n=Xr(i),r=zr(n);let a=n==="x"?s===(e?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=os(a)),[a,os(a)]}function no(i){const t=os(i);return[ti(i),t,ti(t)]}function ti(i){return i.replace(/start|end/g,t=>so[t])}function ro(i,t,e){const s=["left","right"],n=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(i){case"top":case"bottom":return e?t?n:s:t?s:n;case"left":case"right":return t?r:a;default:return[]}}function ao(i,t,e,s){const n=Ai(i);let r=ro(he(i),e==="start",s);return n&&(r=r.map(a=>a+"-"+n),t&&(r=r.concat(r.map(ti)))),r}function os(i){return i.replace(/left|right|bottom|top/g,t=>eo[t])}function oo(i){return{top:0,right:0,bottom:0,left:0,...i}}function ho(i){return typeof i!="number"?oo(i):{top:i,right:i,bottom:i,left:i}}function hs(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function Hn(i,t,e){let{reference:s,floating:n}=i;const r=Ci(t),a=Xr(t),o=zr(a),h=he(t),c=r==="y",l=s.x+s.width/2-n.width/2,d=s.y+s.height/2-n.height/2,f=s[o]/2-n[o]/2;let p;switch(h){case"top":p={x:l,y:s.y-n.height};break;case"bottom":p={x:l,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:d};break;case"left":p={x:s.x-n.width,y:d};break;default:p={x:s.x,y:s.y}}switch(Ai(t)){case"start":p[a]-=f*(e&&c?-1:1);break;case"end":p[a]+=f*(e&&c?-1:1);break}return p}const co=async(i,t,e)=>{const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a}=e,o=r.filter(Boolean),h=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:i,floating:t,strategy:n}),{x:l,y:d}=Hn(c,s,h),f=s,p={},m=0;for(let g=0;g<o.length;g++){const{name:T,fn:$}=o[g],{x:P,y:O,data:q,reset:R}=await $({x:l,y:d,initialPlacement:s,placement:f,strategy:n,middlewareData:p,rects:c,platform:a,elements:{reference:i,floating:t}});l=P??l,d=O??d,p={...p,[T]:{...p[T],...q}},R&&m<=50&&(m++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(c=R.rects===!0?await a.getElementRects({reference:i,floating:t,strategy:n}):R.rects),{x:l,y:d}=Hn(c,f,h)),g=-1)}return{x:l,y:d,placement:f,strategy:n,middlewareData:p}};async function Jr(i,t){var e;t===void 0&&(t={});const{x:s,y:n,platform:r,rects:a,elements:o,strategy:h}=i,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Pi(t,i),m=ho(p),T=o[f?d==="floating"?"reference":"floating":d],$=hs(await r.getClippingRect({element:(e=await(r.isElement==null?void 0:r.isElement(T)))==null||e?T:T.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:h})),P=d==="floating"?{...a.floating,x:s,y:n}:a.reference,O=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),q=await(r.isElement==null?void 0:r.isElement(O))?await(r.getScale==null?void 0:r.getScale(O))||{x:1,y:1}:{x:1,y:1},R=hs(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:P,offsetParent:O,strategy:h}):P);return{top:($.top-R.top+m.top)/q.y,bottom:(R.bottom-$.bottom+m.bottom)/q.y,left:($.left-R.left+m.left)/q.x,right:(R.right-$.right+m.right)/q.x}}const lo=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(t){var e,s;const{placement:n,middlewareData:r,rects:a,initialPlacement:o,platform:h,elements:c}=t,{mainAxis:l=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...T}=Pi(i,t);if((e=r.arrow)!=null&&e.alignmentOffset)return{};const $=he(n),P=he(o)===o,O=await(h.isRTL==null?void 0:h.isRTL(c.floating)),q=f||(P||!g?[os(o)]:no(o));!f&&m!=="none"&&q.push(...ao(o,g,m,O));const R=[o,...q],B=await Jr(t,T),X=[];let st=((s=r.flip)==null?void 0:s.overflows)||[];if(l&&X.push(B[$]),d){const it=io(n,a,O);X.push(B[it[0]],B[it[1]])}if(st=[...st,{placement:n,overflows:X}],!X.every(it=>it<=0)){var Ut,gt;const it=(((Ut=r.flip)==null?void 0:Ut.index)||0)+1,U=R[it];if(U)return{data:{index:it,overflows:st},reset:{placement:U}};let N=(gt=st.filter(nt=>nt.overflows[0]<=0).sort((nt,G)=>nt.overflows[1]-G.overflows[1])[0])==null?void 0:gt.placement;if(!N)switch(p){case"bestFit":{var It;const nt=(It=st.map(G=>[G.placement,G.overflows.filter(L=>L>0).reduce((L,rt)=>L+rt,0)]).sort((G,L)=>G[1]-L[1])[0])==null?void 0:It[0];nt&&(N=nt);break}case"initialPlacement":N=o;break}if(n!==N)return{reset:{placement:N}}}return{}}}},uo=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(t){const{x:e,y:s,placement:n}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:o={fn:T=>{let{x:$,y:P}=T;return{x:$,y:P}}},...h}=Pi(i,t),c={x:e,y:s},l=await Jr(t,h),d=Ci(he(n)),f=Yr(d);let p=c[f],m=c[d];if(r){const T=f==="y"?"top":"left",$=f==="y"?"bottom":"right",P=p+l[T],O=p-l[$];p=Nn(P,p,O)}if(a){const T=d==="y"?"top":"left",$=d==="y"?"bottom":"right",P=m+l[T],O=m-l[$];m=Nn(P,m,O)}const g=o.fn({...t,[f]:p,[d]:m});return{...g,data:{x:g.x-e,y:g.y-s}}}}};function Nt(i){return Zr(i)?(i.nodeName||"").toLowerCase():"#document"}function ct(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function qt(i){var t;return(t=(Zr(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function Zr(i){return i instanceof Node||i instanceof ct(i).Node}function Dt(i){return i instanceof Element||i instanceof ct(i).Element}function St(i){return i instanceof HTMLElement||i instanceof ct(i).HTMLElement}function Wn(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof ct(i).ShadowRoot}function Me(i){const{overflow:t,overflowX:e,overflowY:s,display:n}=mt(i);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(n)}function fo(i){return["table","td","th"].includes(Nt(i))}function Oi(i){const t=Li(),e=mt(i);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function po(i){let t=ce(i);for(;St(t)&&!Is(t);){if(Oi(t))return t;t=ce(t)}return null}function Li(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Is(i){return["html","body","#document"].includes(Nt(i))}function mt(i){return ct(i).getComputedStyle(i)}function Rs(i){return Dt(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function ce(i){if(Nt(i)==="html")return i;const t=i.assignedSlot||i.parentNode||Wn(i)&&i.host||qt(i);return Wn(t)?t.host:t}function ta(i){const t=ce(i);return Is(t)?i.ownerDocument?i.ownerDocument.body:i.body:St(t)&&Me(t)?t:ta(t)}function ke(i,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const n=ta(i),r=n===((s=i.ownerDocument)==null?void 0:s.body),a=ct(n);return r?t.concat(a,a.visualViewport||[],Me(n)?n:[],a.frameElement&&e?ke(a.frameElement):[]):t.concat(n,ke(n,[],e))}function ea(i){const t=mt(i);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const n=St(i),r=n?i.offsetWidth:e,a=n?i.offsetHeight:s,o=as(e)!==r||as(s)!==a;return o&&(e=r,s=a),{width:e,height:s,$:o}}function Di(i){return Dt(i)?i:i.contextElement}function ae(i){const t=Di(i);if(!St(t))return Vt(1);const e=t.getBoundingClientRect(),{width:s,height:n,$:r}=ea(t);let a=(r?as(e.width):e.width)/s,o=(r?as(e.height):e.height)/n;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const mo=Vt(0);function sa(i){const t=ct(i);return!Li()||!t.visualViewport?mo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bo(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==ct(i)?!1:t}function zt(i,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const n=i.getBoundingClientRect(),r=Di(i);let a=Vt(1);t&&(s?Dt(s)&&(a=ae(s)):a=ae(i));const o=bo(r,e,s)?sa(r):Vt(0);let h=(n.left+o.x)/a.x,c=(n.top+o.y)/a.y,l=n.width/a.x,d=n.height/a.y;if(r){const f=ct(r),p=s&&Dt(s)?ct(s):s;let m=f,g=m.frameElement;for(;g&&s&&p!==m;){const T=ae(g),$=g.getBoundingClientRect(),P=mt(g),O=$.left+(g.clientLeft+parseFloat(P.paddingLeft))*T.x,q=$.top+(g.clientTop+parseFloat(P.paddingTop))*T.y;h*=T.x,c*=T.y,l*=T.x,d*=T.y,h+=O,c+=q,m=ct(g),g=m.frameElement}}return hs({width:l,height:d,x:h,y:c})}const go=[":popover-open",":modal"];function ia(i){return go.some(t=>{try{return i.matches(t)}catch{return!1}})}function yo(i){let{elements:t,rect:e,offsetParent:s,strategy:n}=i;const r=n==="fixed",a=qt(s),o=t?ia(t.floating):!1;if(s===a||o&&r)return e;let h={scrollLeft:0,scrollTop:0},c=Vt(1);const l=Vt(0),d=St(s);if((d||!d&&!r)&&((Nt(s)!=="body"||Me(a))&&(h=Rs(s)),St(s))){const f=zt(s);c=ae(s),l.x=f.x+s.clientLeft,l.y=f.y+s.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-h.scrollLeft*c.x+l.x,y:e.y*c.y-h.scrollTop*c.y+l.y}}function $o(i){return Array.from(i.getClientRects())}function na(i){return zt(qt(i)).left+Rs(i).scrollLeft}function wo(i){const t=qt(i),e=Rs(i),s=i.ownerDocument.body,n=Qt(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),r=Qt(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let a=-e.scrollLeft+na(i);const o=-e.scrollTop;return mt(s).direction==="rtl"&&(a+=Qt(t.clientWidth,s.clientWidth)-n),{width:n,height:r,x:a,y:o}}function vo(i,t){const e=ct(i),s=qt(i),n=e.visualViewport;let r=s.clientWidth,a=s.clientHeight,o=0,h=0;if(n){r=n.width,a=n.height;const c=Li();(!c||c&&t==="fixed")&&(o=n.offsetLeft,h=n.offsetTop)}return{width:r,height:a,x:o,y:h}}function To(i,t){const e=zt(i,!0,t==="fixed"),s=e.top+i.clientTop,n=e.left+i.clientLeft,r=St(i)?ae(i):Vt(1),a=i.clientWidth*r.x,o=i.clientHeight*r.y,h=n*r.x,c=s*r.y;return{width:a,height:o,x:h,y:c}}function Bn(i,t,e){let s;if(t==="viewport")s=vo(i,e);else if(t==="document")s=wo(qt(i));else if(Dt(t))s=To(t,e);else{const n=sa(i);s={...t,x:t.x-n.x,y:t.y-n.y}}return hs(s)}function ra(i,t){const e=ce(i);return e===t||!Dt(e)||Is(e)?!1:mt(e).position==="fixed"||ra(e,t)}function ko(i,t){const e=t.get(i);if(e)return e;let s=ke(i,[],!1).filter(o=>Dt(o)&&Nt(o)!=="body"),n=null;const r=mt(i).position==="fixed";let a=r?ce(i):i;for(;Dt(a)&&!Is(a);){const o=mt(a),h=Oi(a);!h&&o.position==="fixed"&&(n=null),(r?!h&&!n:!h&&o.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Me(a)&&!h&&ra(i,a))?s=s.filter(l=>l!==a):n=o,a=ce(a)}return t.set(i,s),s}function So(i){let{element:t,boundary:e,rootBoundary:s,strategy:n}=i;const a=[...e==="clippingAncestors"?ko(t,this._c):[].concat(e),s],o=a[0],h=a.reduce((c,l)=>{const d=Bn(t,l,n);return c.top=Qt(d.top,c.top),c.right=rs(d.right,c.right),c.bottom=rs(d.bottom,c.bottom),c.left=Qt(d.left,c.left),c},Bn(t,o,n));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function xo(i){const{width:t,height:e}=ea(i);return{width:t,height:e}}function Eo(i,t,e){const s=St(t),n=qt(t),r=e==="fixed",a=zt(i,!0,r,t);let o={scrollLeft:0,scrollTop:0};const h=Vt(0);if(s||!s&&!r)if((Nt(t)!=="body"||Me(n))&&(o=Rs(t)),s){const d=zt(t,!0,r,t);h.x=d.x+t.clientLeft,h.y=d.y+t.clientTop}else n&&(h.x=na(n));const c=a.left+o.scrollLeft-h.x,l=a.top+o.scrollTop-h.y;return{x:c,y:l,width:a.width,height:a.height}}function Un(i,t){return!St(i)||mt(i).position==="fixed"?null:t?t(i):i.offsetParent}function aa(i,t){const e=ct(i);if(!St(i)||ia(i))return e;let s=Un(i,t);for(;s&&fo(s)&&mt(s).position==="static";)s=Un(s,t);return s&&(Nt(s)==="html"||Nt(s)==="body"&&mt(s).position==="static"&&!Oi(s))?e:s||po(i)||e}const Po=async function(i){const t=this.getOffsetParent||aa,e=this.getDimensions;return{reference:Eo(i.reference,await t(i.floating),i.strategy),floating:{x:0,y:0,...await e(i.floating)}}};function Ao(i){return mt(i).direction==="rtl"}const Co={convertOffsetParentRelativeRectToViewportRelativeRect:yo,getDocumentElement:qt,getClippingRect:So,getOffsetParent:aa,getElementRects:Po,getClientRects:$o,getDimensions:xo,getScale:ae,isElement:Dt,isRTL:Ao};function Oo(i,t){let e=null,s;const n=qt(i);function r(){var o;clearTimeout(s),(o=e)==null||o.disconnect(),e=null}function a(o,h){o===void 0&&(o=!1),h===void 0&&(h=1),r();const{left:c,top:l,width:d,height:f}=i.getBoundingClientRect();if(o||t(),!d||!f)return;const p=Ue(l),m=Ue(n.clientWidth-(c+d)),g=Ue(n.clientHeight-(l+f)),T=Ue(c),P={rootMargin:-p+"px "+-m+"px "+-g+"px "+-T+"px",threshold:Qt(0,rs(1,h))||1};let O=!0;function q(R){const B=R[0].intersectionRatio;if(B!==h){if(!O)return a();B?a(!1,B):s=setTimeout(()=>{a(!1,1e-7)},100)}O=!1}try{e=new IntersectionObserver(q,{...P,root:n.ownerDocument})}catch{e=new IntersectionObserver(q,P)}e.observe(i)}return a(!0),r}function Lo(i,t,e,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,c=Di(i),l=n||r?[...c?ke(c):[],...ke(t)]:[];l.forEach($=>{n&&$.addEventListener("scroll",e,{passive:!0}),r&&$.addEventListener("resize",e)});const d=c&&o?Oo(c,e):null;let f=-1,p=null;a&&(p=new ResizeObserver($=>{let[P]=$;P&&P.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var O;(O=p)==null||O.observe(t)})),e()}),c&&!h&&p.observe(c),p.observe(t));let m,g=h?zt(i):null;h&&T();function T(){const $=zt(i);g&&($.x!==g.x||$.y!==g.y||$.width!==g.width||$.height!==g.height)&&e(),g=$,m=requestAnimationFrame(T)}return e(),()=>{var $;l.forEach(P=>{n&&P.removeEventListener("scroll",e),r&&P.removeEventListener("resize",e)}),d==null||d(),($=p)==null||$.disconnect(),p=null,h&&cancelAnimationFrame(m)}}const Do=uo,Mo=lo,qo=(i,t,e)=>{const s=new Map,n={platform:Co,...e},r={...n.platform,_c:s};return co(i,t,{...n,platform:r})},Gn=i=>typeof i=="object"&&i!=null&&i.nodeType===1,Kn=(i,t)=>(!t||i!=="hidden")&&i!=="visible"&&i!=="clip",Bs=(i,t)=>{if(i.clientHeight<i.scrollHeight||i.clientWidth<i.scrollWidth){const e=getComputedStyle(i,null);return Kn(e.overflowY,t)||Kn(e.overflowX,t)||(s=>{const n=(r=>{if(!r.ownerDocument||!r.ownerDocument.defaultView)return null;try{return r.ownerDocument.defaultView.frameElement}catch{return null}})(s);return!!n&&(n.clientHeight<s.scrollHeight||n.clientWidth<s.scrollWidth)})(i)}return!1},Ge=(i,t,e,s,n,r,a,o)=>r<i&&a>t||r>i&&a<t?0:r<=i&&o<=e||a>=t&&o>=e?r-i-s:a>t&&o<e||r<i&&o>e?a-t+n:0,Io=i=>{const t=i.parentElement;return t??(i.getRootNode().host||null)},Ro=(i,t)=>{var e,s,n,r;if(typeof document>"u")return[];const{scrollMode:a,block:o,inline:h,boundary:c,skipOverflowHiddenElements:l}=t,d=typeof c=="function"?c:G=>G!==c;if(!Gn(i))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,p=[];let m=i;for(;Gn(m)&&d(m);){if(m=Io(m),m===f){p.push(m);break}m!=null&&m===document.body&&Bs(m)&&!Bs(document.documentElement)||m!=null&&Bs(m,l)&&p.push(m)}const g=(s=(e=window.visualViewport)==null?void 0:e.width)!=null?s:innerWidth,T=(r=(n=window.visualViewport)==null?void 0:n.height)!=null?r:innerHeight,{scrollX:$,scrollY:P}=window,{height:O,width:q,top:R,right:B,bottom:X,left:st}=i.getBoundingClientRect(),{top:Ut,right:gt,bottom:It,left:it}=(G=>{const L=window.getComputedStyle(G);return{top:parseFloat(L.scrollMarginTop)||0,right:parseFloat(L.scrollMarginRight)||0,bottom:parseFloat(L.scrollMarginBottom)||0,left:parseFloat(L.scrollMarginLeft)||0}})(i);let U=o==="start"||o==="nearest"?R-Ut:o==="end"?X+It:R+O/2-Ut+It,N=h==="center"?st+q/2-it+gt:h==="end"?B+gt:st-it;const nt=[];for(let G=0;G<p.length;G++){const L=p[G],{height:rt,width:Gt,top:Et,right:ie,bottom:Vs,left:_e}=L.getBoundingClientRect();if(a==="if-needed"&&R>=0&&st>=0&&X<=T&&B<=g&&R>=Et&&X<=Vs&&st>=_e&&B<=ie)return nt;const Fe=getComputedStyle(L),je=parseInt(Fe.borderLeftWidth,10),Ve=parseInt(Fe.borderTopWidth,10),Ne=parseInt(Fe.borderRightWidth,10),He=parseInt(Fe.borderBottomWidth,10);let Rt=0,_t=0;const We="offsetWidth"in L?L.offsetWidth-L.clientWidth-je-Ne:0,Be="offsetHeight"in L?L.offsetHeight-L.clientHeight-Ve-He:0,Ns="offsetWidth"in L?L.offsetWidth===0?0:Gt/L.offsetWidth:0,Hs="offsetHeight"in L?L.offsetHeight===0?0:rt/L.offsetHeight:0;if(f===L)Rt=o==="start"?U:o==="end"?U-T:o==="nearest"?Ge(P,P+T,T,Ve,He,P+U,P+U+O,O):U-T/2,_t=h==="start"?N:h==="center"?N-g/2:h==="end"?N-g:Ge($,$+g,g,je,Ne,$+N,$+N+q,q),Rt=Math.max(0,Rt+P),_t=Math.max(0,_t+$);else{Rt=o==="start"?U-Et-Ve:o==="end"?U-Vs+He+Be:o==="nearest"?Ge(Et,Vs,rt,Ve,He+Be,U,U+O,O):U-(Et+rt/2)+Be/2,_t=h==="start"?N-_e-je:h==="center"?N-(_e+Gt/2)+We/2:h==="end"?N-ie+Ne+We:Ge(_e,ie,Gt,je,Ne+We,N,N+q,q);const{scrollLeft:Cn,scrollTop:On}=L;Rt=Hs===0?0:Math.max(0,Math.min(On+Rt/Hs,L.scrollHeight-rt/Hs+Be)),_t=Ns===0?0:Math.max(0,Math.min(Cn+_t/Ns,L.scrollWidth-Gt/Ns+We)),U+=On-Rt,N+=Cn-_t}nt.push({el:L,top:Rt,left:_t})}return nt},Us=i=>i===null?"":i+"",_o=i=>i===null?null:i+"",Fo=i=>i===null?0:Number(i),jo=i=>i!==null,Vo=()=>null,No=i=>i===null?[]:JSON.parse(i),Ho=i=>i===null?{}:JSON.parse(i);function Wo(i){if(i===null)return _o;switch(typeof i){case"undefined":return Us;case"string":return Us;case"boolean":return jo;case"number":return Fo;case"function":return Vo;case"object":return Y(i)?No:Ho;default:return Us}}const Ft=Symbol(0),oa=Symbol(0),Yt=Symbol(0),Kt=Symbol(0);function Ml(i,t){var e,s,n;const a=class a extends i{constructor(...h){if(super(...h),this[s]=0,this[n]=null,this.keepAlive=!1,this.forwardKeepAlive=!0,this.$=J(()=>Qa(t),null),this.$.$$.t(this),t.props){const c=this.$props,l=Object.getOwnPropertyDescriptors(this);for(const d of Object.keys(l))d in t.props&&(c[d].set(this[d]),delete this[d])}}static get observedAttributes(){var h;if(!this[Ft]&&t.props){const c=new Map;for(const l of Object.keys(t.props)){let d=(h=this.attrs)==null?void 0:h[l],f=k(d)?d:d&&(d==null?void 0:d.attr);f!==!1&&(f||(f=Qr(l)),c.set(f,{C:l,B:d&&!k(d)&&(d==null?void 0:d.converter)||Wo(t.props[l])}))}this[Ft]=c}return this[Ft]?Array.from(this[Ft].keys()):[]}get scope(){return this.$.$$.d}get attachScope(){return this.$.$$.f}get connectScope(){return this.$.$$.g}get $props(){return this.$.$$.i}get $state(){return this.$.$$.h}get state(){return this.$.state}attributeChangedCallback(h,c,l){var p;const d=this.constructor;if(!d[Ft]){(p=super.attributeChangedCallback)==null||p.call(this,h,c,l);return}const f=d[Ft].get(h);f&&(this[f.C]=f.B(l))}connectedCallback(){var l;const h=(l=this.$)==null?void 0:l.$$;if(!h||h.o)return;if(this[Yt]!==2){Uo.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),h.y(),Y(this[Kt])&&Ya(this[Kt],this),this[Kt]=null;const c=super.connectedCallback;c&&J(()=>c.call(this),this.connectScope)}disconnectedCallback(){var l;const h=(l=this.$)==null?void 0:l.$$;if(!h||h.o)return;h.z();const c=super.disconnectedCallback;c&&c.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||h.p()})},0)}[(e=Ft,s=Yt,n=Kt,oa)](){const h=this.$.$$,c=this.constructor;if(h.o)return;const l=c[Ft];if(l)for(const d of this.attributes){let f=l.get(d.name);f&&f.B&&h.i[f.C].set(f.B(this.getAttribute(d.name)))}h.w(),h.x(this),this[Yt]=2,this.connectedCallback()}subscribe(h){return this.$.subscribe(h)}destroy(){this.disconnectedCallback(),this.$.destroy()}};a[e]=null;let r=a;return Bo(r,t),r}function Bo(i,t){const e=i.prototype,s=t.prototype;if(t.props)for(const n of Object.keys(t.props))Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$props[n]()},set(r){this.$props[n].set(r)}});if(s[me])for(const n of s[me])Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$[n]},set(r){this.$[n]=r}});if(s[be])for(const n of s[be])e[n]=function(...r){return this.$[n](...r)}}function Uo(){if(this[Yt]!==0)return;this[Yt]=1;const i=Ko(this),t=i&&window.customElements.get(i.localName),e=i&&i[Yt]===2;if(i&&(!t||!e)){Go.call(this,i);return}ha.call(this,i)}async function Go(i){await window.customElements.whenDefined(i.localName),i[Yt]!==2&&await new Promise(t=>(i[Kt]??(i[Kt]=[])).push(t)),ha.call(this,i)}function ha(i){if(this.isConnected){if(i){i.keepAlive&&i.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));const t=this.$.$$.d;t&&i.$.$$.f.append(t)}this[oa]()}}function Ko(i){let t=i.parentNode,e=i.localName.split("-",1)[0]+"-";for(;t;){if(t.nodeType===1&&t.localName.startsWith(e))return t;t=t.parentNode}return null}function ql(i,t=!1){(t||!window.customElements.get(i.tagName))&&window.customElements.define(i.tagName,i)}const Qo=Symbol(0),Yo=Symbol(0),zo=Symbol(0),Xo=Symbol(0),Jo=Symbol(0),Zo=Symbol(0),th=Symbol(0),eh=Symbol(0),sh=Symbol(0),D={da:Qo,cc:Yo,z:zo,ea:Xo,Yc:Jo,Od:Zo,Gf:th,Hf:eh,If:sh},ih=(navigator==null?void 0:navigator.userAgent.toLowerCase())||"",ca=/iphone|ipad|ipod|ios|crios|fxios/i.test(ih),la=/(iphone|ipod)/gi.test((navigator==null?void 0:navigator.platform)||""),nh=!!window.chrome,Il=!!window.safari||ca;function ua(){return rh()&&Tt(screen.orientation.unlock)}function rh(){return!$t(window.screen.orientation)&&!$t(window.screen.orientation.lock)}function ah(i,t){return i||(i=document.createElement("audio")),i.canPlayType(t).length>0}function oh(i,t){return i||(i=document.createElement("video")),i.canPlayType(t).length>0}function hh(i){return i||(i=document.createElement("video")),i.canPlayType("application/vnd.apple.mpegurl").length>0}function Rl(i){return!!document.pictureInPictureEnabled&&!(i!=null&&i.disablePictureInPicture)}function _l(i){return Tt(i==null?void 0:i.webkitSupportsPresentationMode)&&Tt(i==null?void 0:i.webkitSetPresentationMode)}async function ch(){const i=document.createElement("video");return i.volume=.5,await Ja(0),i.volume===.5}function lh(){return(window==null?void 0:window.ManagedMediaSource)??(window==null?void 0:window.MediaSource)??(window==null?void 0:window.WebKitMediaSource)}function uh(){return(window==null?void 0:window.SourceBuffer)??(window==null?void 0:window.WebKitSourceBuffer)}function Mi(){const i=lh();if($t(i))return!1;const t=i&&Tt(i.isTypeSupported)&&i.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),e=uh(),s=$t(e)||!$t(e.prototype)&&Tt(e.prototype.appendBuffer)&&Tt(e.prototype.remove);return!!t&&!!s}function dh(){return Mi()}const fh=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,ph=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp4","audio/webm","audio/flac"]),mh=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,bh=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),gh=/\.(m3u8)($|\?)/i,yh=/\.(mpd)($|\?)/i,$h=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),wh=new Set(["application/dash+xml"]);function qi({src:i,type:t}){return k(i)?fh.test(i)||ph.has(t)||i.startsWith("blob:")&&t==="audio/object":t==="audio/object"}function Ii(i){return k(i.src)?mh.test(i.src)||bh.has(i.type)||i.src.startsWith("blob:")&&i.type==="video/object"||qe(i)&&hh():i.type==="video/object"}function qe({src:i,type:t}){return k(i)&&gh.test(i)||$h.has(t)}function Ri({src:i,type:t}){return k(i)&&yh.test(i)||wh.has(t)}function vh(i){return k(i.src)&&(qi(i)||Ii(i)||qe(i))}function Fl(i){return typeof window.MediaStream<"u"&&i instanceof window.MediaStream}class Je{get length(){return this.ta.length}constructor(t,e){Y(t)?this.ta=t:!$t(t)&&!$t(e)?this.ta=[[t,e]]:this.ta=[]}start(t){return this.ta[t][0]??1/0}end(t){return this.ta[t][1]??1/0}}function ei(i){if(!i.length)return null;let t=i.start(0);for(let e=1;e<i.length;e++){const s=i.start(e);s<t&&(t=s)}return t}function ye(i){if(!i.length)return null;let t=i.end(0);for(let e=1;e<i.length;e++){const s=i.end(e);s>t&&(t=s)}return t}function jl(i,t,e){if(i)return y(i,t,e)}function Qn(i,t){return Ha(t.target)&&i.contains(t.target)}const si=new Set;{let i=function(){for(const t of si)try{t()}catch{}window.requestAnimationFrame(i)};i()}function Th(i){return si.add(i),()=>si.delete(i)}function M(i,t,e){i.hasAttribute(t)||i.setAttribute(t,e)}function Bt(i,t){if(i.hasAttribute("aria-label")||i.hasAttribute("data-no-label"))return;if(!Tt(t)){S(i,"aria-label",t);return}function e(){S(i,"aria-label",t())}u(e)}function da(i){const t=getComputedStyle(i);return t.display!=="none"&&parseInt(t.opacity)>0}function kh(i){return!!i&&("checkVisibility"in i?i.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):da(i))}function fa(i,t){return Th(()=>t(kh(i)))}function pa(i,t,e){for(;t;){if(t===i)return!0;if(e!=null&&e(t))break;t=t.parentElement}return!1}function Ht(i,t){y(i,"pointerup",e=>{e.button===0&&t(e)}),y(i,"keydown",e=>{Gr(e)&&t(e)})}function _i(i){return Xe(i)&&(i.touches.length>1||i.changedTouches.length>1)}function cs(i){let t=Ls(),e=window.requestAnimationFrame(()=>{J(i,t),e=-1});return()=>void window.cancelAnimationFrame(e)}function Vl(i,t,e){let s,n=i,r=i.parentElement,a=i.content.firstElementChild,o=[];!a&&i.firstElementChild&&(i.innerHTML=i.firstElementChild.outerHTML,i.firstElementChild.remove(),a=i.content.firstElementChild);for(let h=0;h<t;h++)s=document.importNode(a,!0),e==null||e(s,h),r.insertBefore(s,n.nextSibling),o.push(s),n=s;return A(()=>{for(let h=0;h<o.length;h++)o[h].remove()}),o}function Nl(i){const t=document.createElement("template");return t.innerHTML=i,t.content}function Hl(i){return i.cloneNode(!0).firstElementChild}function ma(i,t,e,{offsetVarName:s,xOffset:n,yOffset:r,...a}){if(!i)return;const o=e.replace(" ","-").replace("-center","");if(ht(i,"visibility",t?null:"hidden"),!t)return;let h=e.includes("top");const c=d=>e.includes("left")?`calc(-1 * ${d})`:d,l=d=>h?`calc(-1 * ${d})`:d;return Lo(t,i,()=>{qo(t,i,{placement:o,middleware:[...a.middleware??[],Mo({fallbackAxisSideDirection:"start",crossAxis:!1}),Do()],...a}).then(({x:d,y:f,middlewareData:p})=>{var g;const m=!!((g=p.flip)!=null&&g.index);h=e.includes(m?"bottom":"top"),i.setAttribute("data-placement",m?e.startsWith("top")?e.replace("top","bottom"):e.replace("bottom","top"):e),Object.assign(i.style,{top:`calc(${f+"px"} + ${l(r?r+"px":`var(--${s}-y-offset, 0px)`)})`,left:`calc(${d+"px"} + ${c(n?n+"px":`var(--${s}-x-offset, 0px)`)})`})})})}function Sh(i){return getComputedStyle(i).animationName!=="none"}function Wl(i){const t=document.createElement("slot");return t.name=i,t}function Bl(i){const t=w(!1);return u(()=>{const e=i();e&&(y(e,"transitionstart",()=>t.set(!0)),y(e,"transitionend",()=>t.set(!1)))}),t}function Ul(i,t){function e(){const s=i();if(!s)return;t();const n=new ResizeObserver(Zt(t));return n.observe(s),()=>n.disconnect()}u(e)}function Gl(i){const t=xh(i),e=Eh(i);let s=!1;return Lt(()=>{const n=t();return s&&!n?!1:(s=n,n||e())})}function xh(i){const t=w(!1);return u(()=>{const e=i();if(!e){t.set(!1);return}y(e,"mouseenter",()=>t.set(!0)),y(e,"mouseleave",()=>t.set(!1))}),t}function Eh(i){const t=w(!1);return u(()=>{const e=i();if(!e){t.set(!1);return}y(e,"focusin",()=>t.set(!0)),y(e,"focusout",()=>t.set(!1))}),t}function Se(i){return i instanceof HTMLElement}function Ph(){const i=w("dark"),t=window.matchMedia("(prefers-color-scheme: light)");function e(){i.set(t.matches?"light":"dark")}return e(),y(t,"change",e),i}function Kl(i,t){u(()=>{const s=t();if(s==="system"){const n=Ph();u(()=>e(n()));return}e(s)});function e(s){Rn(i,"light",s==="light"),Rn(i,"dark",s==="dark")}}function Ql(i,t){const e=new URLSearchParams;for(const s of Object.keys(t))e.set(s,t[s]+"");return i+"?"+e.toString()}function Ie(i,t="preconnect"){const e=document.querySelector(`link[href="${i}"]`);if(!vt(e))return!0;const s=document.createElement("link");return s.rel=t,s.href=i,s.crossOrigin="true",document.head.append(s),!0}const Ke={};function Yl(i){if(Ke[i])return Ke[i].promise;const t=Zs(),e=document.querySelector(`script[src="${i}"]`);if(!vt(e))return t.resolve(),t.promise;const s=document.createElement("script");return s.src=i,s.onload=()=>{t.resolve(),delete Ke[i]},s.onerror=()=>{t.reject(),delete Ke[i]},setTimeout(()=>document.head.append(s),0),t.promise}function $e(i){return i==="use-credentials"?"include":k(i)?"same-origin":void 0}function zl({title:i,src:t,download:e}){const s=Mn(e)||e===""?t.src:k(e)?e:e==null?void 0:e.url;return Ah({url:s,src:t,download:e})?{url:s,name:!Mn(e)&&!k(e)&&(e==null?void 0:e.filename)||i.toLowerCase()||"media"}:null}function Ah({url:i,src:t,download:e}){return k(i)&&(e&&e!==!0||qi(t)||Ii(t))}const Ch=Symbol(0),Oh=Symbol(0),Lh=Symbol(0),Dh=Symbol(0),Mh=Symbol(0),qh=Symbol(0),Ih=Symbol(0),C={Db:Ch,ma:Oh,Eb:Lh,Z:Dh,hb:Mh,_:qh,Mf:Ih};function ii(i,t){return t>=i.startTime&&t<i.endTime}function _s(i,t,e){let s=null,n=Ls();function r(){const a=k(t)?[t]:t,o=i.toArray().find(h=>a.includes(h.kind)&&h.mode==="showing");if(o!==s){if(!o){e(null),s=null;return}o.readyState==2?e(o):(e(null),J(()=>{const h=y(o,"load",()=>{e(o),h()},{once:!0})},n)),s=o}}return r(),y(i,"mode-change",r)}function Xl(i,t,e){_s(i,t,s=>{if(!s){e("");return}const n=()=>{const r=s==null?void 0:s.activeCues[0];e((r==null?void 0:r.text)||"")};n(),y(s,"cue-change",n)})}var Yn,zn,Xn;class ls extends Ur{constructor(t){super(),this.id="",this.label="",this.language="",this.default=!1,this.Z=!1,this.ua=0,this.U="disabled",this.Nf={},this.$c=[],this.B=[],this.Fb=[],this[Yn]=0,this[zn]=null,this[Xn]=null;for(const e of Object.keys(t))this[e]=t[e];this.type||(this.type="vtt"),t.content?this._h(t):t.src||(this[C.ma]=2)}static createId(t){return`vds-${t.type}-${t.kind}-${t.src??t.label??"?"}`}get metadata(){return this.Nf}get regions(){return this.$c}get cues(){return this.B}get activeCues(){return this.Fb}get readyState(){return this[C.ma]}get mode(){return this.U}set mode(t){this.setMode(t)}addCue(t,e){var r;let s=0,n=this.B.length;for(s=0;s<n&&!(t.endTime<=this.B[s].startTime);s++);s===n?this.B.push(t):this.B.splice(s,0,t),t instanceof TextTrackCue||(r=this[C._])==null||r.track.addCue(t),this.dispatchEvent(new F("add-cue",{detail:t,trigger:e})),ii(t,this.ua)&&this[C.Eb](this.ua,e)}removeCue(t,e){var n;const s=this.B.indexOf(t);if(s>=0){const r=this.Fb.includes(t);this.B.splice(s,1),(n=this[C._])==null||n.track.removeCue(t),this.dispatchEvent(new F("remove-cue",{detail:t,trigger:e})),r&&this[C.Eb](this.ua,e)}}setMode(t,e){var s;this.U!==t&&(this.U=t,t==="disabled"?(this.Fb=[],this.Of()):this.readyState===2?this[C.Eb](this.ua,e):this.Pf(),this.dispatchEvent(new F("mode-change",{detail:this,trigger:e})),(s=this[C.hb])==null||s.call(this))}[(Yn=C.ma,zn=C.hb,Xn=C._,C.Eb)](t,e){if(this.ua=t,this.mode==="disabled"||!this.B.length)return;const s=[];for(let r=0,a=this.B.length;r<a;r++){const o=this.B[r];ii(o,t)&&s.push(o)}let n=s.length!==this.Fb.length;if(!n){for(let r=0;r<s.length;r++)if(!this.Fb.includes(s[r])){n=!0;break}}this.Fb=s,n&&this.Of(e)}[C.Z](){this.Z=!0,this.U!=="disabled"&&this.Pf()}_h(t){lt(()=>import("./prod-B_fh46Mt.js").then(e=>e.d),__vite__mapDeps([0,1])).then(({parseText:e,VTTCue:s,VTTRegion:n})=>{!k(t.content)||t.type==="json"?(this.Qf(t.content,s,n),this.readyState!==3&&this.Ga()):e(t.content,{type:t.type}).then(({cues:r,regions:a})=>{this.B=r,this.$c=a,this.Ga()})})}async Pf(){var t,e;if(!(!this.Z||this[C.ma]>0)){if(this[C.ma]=1,this.dispatchEvent(new F("load-start")),!this.src){this.Ga();return}try{const{parseResponse:s,VTTCue:n,VTTRegion:r}=await lt(()=>import("./prod-B_fh46Mt.js").then(h=>h.d),__vite__mapDeps([0,1])),a=(t=this[C.Db])==null?void 0:t.call(this),o=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:$e(a)});if(this.type==="json")this.Qf(await(await o).text(),n,r);else{const{errors:h,metadata:c,regions:l,cues:d}=await s(o,{type:this.type,encoding:this.encoding});if(((e=h[0])==null?void 0:e.code)===0)throw h[0];this.Nf=c,this.$c=l,this.B=d}this.Ga()}catch(s){this.Rf(s)}}}Ga(){if(this[C.ma]=2,!this.src||this.type!=="vtt"){const e=this[C._];if(e&&!e.managed)for(const s of this.B)e.track.addCue(s)}const t=new F("load");this[C.Eb](this.ua,t),this.dispatchEvent(t)}Rf(t){this[C.ma]=3,this.dispatchEvent(new F("error",{detail:t}))}Qf(t,e,s){try{const{regions:n,cues:r}=_h(t,e,s);this.$c=n,this.B=r}catch(n){this.Rf(n)}}Of(t){this.dispatchEvent(new F("cue-change",{trigger:t}))}}const Rh=/captions|subtitles/;function z(i){return Rh.test(i.kind)}function _h(i,t,e){const s=k(i)?JSON.parse(i):i;let n=[],r=[];return s.regions&&e&&(n=s.regions.map(a=>Object.assign(new e,a))),(s.cues||Y(s))&&(r=(Y(s)?s:s.cues).filter(a=>pt(a.startTime)&&pt(a.endTime)).map(a=>Object.assign(new t(0,0,""),a))),{regions:n,cues:r}}var Jn;class ba extends Ur{constructor(){super(...arguments),this.A=[],this[Jn]=!1}get length(){return this.A.length}get readonly(){return this[D.Yc]}indexOf(t){return this.A.indexOf(t)}getById(t){return t===""?null:this.A.find(e=>e.id===t)??null}toArray(){return[...this.A]}[(Jn=D.Yc,Symbol.iterator)](){return this.A.values()}[D.da](t,e){const s=this.A.length;""+s in this||Object.defineProperty(this,s,{get(){return this.A[s]}}),!this.A.includes(t)&&(this.A.push(t),this.dispatchEvent(new F("add",{detail:t,trigger:e})))}[D.cc](t,e){var n;const s=this.A.indexOf(t);s>=0&&((n=this[D.Hf])==null||n.call(this,t,e),this.A.splice(s,1),this.dispatchEvent(new F("remove",{detail:t,trigger:e})))}[D.z](t){var e;for(const s of[...this.A])this[D.cc](s,t);this.A=[],this[D.Od](!1,t),(e=this[D.Gf])==null||e.call(this)}[D.Od](t,e){this[D.Yc]!==t&&(this[D.Yc]=t,this.dispatchEvent(new F("readonly-change",{detail:t,trigger:e})))}}const ga=new Wt({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new Je,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:ua(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return la&&this.mediaType==="video"&&(!this.playsInline||!jt.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new Je,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new Je,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(z).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){const i=ei(this.buffered)??0;return Math.max(0,i-this.clipStartTime)},get bufferedEnd(){const i=ye(this.buffered)??0;return Math.min(this.duration,Math.max(0,i-this.clipStartTime))},get seekableStart(){const i=ei(this.seekable)??0;return Math.max(0,i-this.clipStartTime)},get seekableEnd(){const i=this.canPlay?ye(this.seekable)??1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,i-this.clipStartTime)):i},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,savedState:null}),ya=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),Fh=new Set([...ya,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function Zn(i,t=!1){const e=t?ya:Fh;ga.reset(i,s=>e.has(s)),Ot()}const $a=Mt();function E(){return j($a)}function Jl(){return E().$state}const wa=Mt();function Zl(){return j(wa)}const jh={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],customIcons:!1,displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]},Yi=class Yi extends v{onSetup(){this.a=E(),tt(wa,{...this.$props,previewTime:w(0)})}};Yi.props=jh;let tr=Yi;function tu(i,t){const{canAirPlay:e,canFullscreen:s,canPictureInPicture:n,controlsHidden:r,currentTime:a,fullscreen:o,hasCaptions:h,isAirPlayConnected:c,paused:l,pictureInPicture:d,playing:f,pointer:p,poster:m,textTrack:g,viewType:T,waiting:$}=t.$state;i.classList.add("plyr"),i.classList.add("plyr--full-ui");const P={"plyr--airplay-active":c,"plyr--airplay-supported":e,"plyr--fullscreen-active":o,"plyr--fullscreen-enabled":s,"plyr--hide-controls":r,"plyr--is-touch":()=>p()==="coarse","plyr--loading":$,"plyr--paused":l,"plyr--pip-active":d,"plyr--pip-enabled":n,"plyr--playing":f,"plyr__poster-enabled":m,"plyr--stopped":()=>l()&&a()===0,"plyr--captions-active":g,"plyr--captions-enabled":h},O=Ei();for(const q of Object.keys(P))O.add(u(()=>void i.classList.toggle(q,!!P[q]())));return O.add(u(()=>{const q=`plyr--${T()}`;return i.classList.add(q),()=>i.classList.remove(q)}),u(()=>{var X;const{$provider:q}=t,R=(X=q())==null?void 0:X.type,B=`plyr--${Vh(R)?"html5":R}`;return i.classList.toggle(B,!!R),()=>i.classList.remove(B)})),()=>O.empty()}function Vh(i){return i==="audio"||i==="video"}const Nh=Symbol(0),Hh=Symbol(0),wt={Wa:Nh,Ia:Hh};function Gs(i){return i instanceof Error?i:Error(typeof i=="string"?i:JSON.stringify(i))}function Pt(i,t){if(!i)throw Error(t||"Assertion failed.")}function W(i,t=2){return Number(i.toFixed(t))}function Wh(i){var t;return((t=String(i).split(".")[1])==null?void 0:t.length)??0}function Fi(i,t,e){return Math.max(i,Math.min(e,t))}const ni=jt.fullscreenEnabled;class Bh extends bt{constructor(){super(...arguments),this.dc=!1,this.Pd=!1}get active(){return this.Pd}get supported(){return ni}onConnect(){y(jt,"fullscreenchange",this.Qd.bind(this)),y(jt,"fullscreenerror",this.Zc.bind(this)),A(this.Fa.bind(this))}async Fa(){ni&&await this.exit()}Qd(t){const e=Ks(this.el);e!==this.Pd&&(e||(this.dc=!1),this.Pd=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}Zc(t){this.dc&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.dc=!1)}async enter(){try{return this.dc=!0,!this.el||Ks(this.el)?void 0:(er(),jt.requestFullscreen(this.el))}catch(t){throw this.dc=!1,t}}async exit(){if(!(!this.el||!Ks(this.el)))return er(),jt.exitFullscreen()}}function Ks(i){if(jt.fullscreenElement===i)return!0;try{return i.matches(jt.fullscreenPseudoClass)}catch{return!1}}function er(){if(!ni)throw Error("[vidstack] no fullscreen API")}const ms=class ms extends bt{constructor(){super(...arguments),this.la=w(this.Jf()),this.Cb=w(!1)}get type(){return this.la()}get locked(){return this.Cb()}get portrait(){return this.la().startsWith("portrait")}get landscape(){return this.la().startsWith("landscape")}get supported(){return ms.supported}onConnect(){if(this.supported)y(screen.orientation,"change",this.Kf.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.Kf.bind(this),A(()=>t.onchange=null)}A(this.Fa.bind(this))}async Fa(){this.supported&&this.Cb()&&await this.unlock()}Kf(t){this.la.set(this.Jf()),this.dispatch("orientation-change",{detail:{orientation:b(this.la),lock:this._c},trigger:t})}async lock(t){b(this.Cb)||this._c===t||(this.Lf(),await screen.orientation.lock(t),this.Cb.set(!0),this._c=t)}async unlock(){b(this.Cb)&&(this.Lf(),this._c=void 0,await screen.orientation.unlock(),this.Cb.set(!1))}Lf(){if(!this.supported)throw Error("[vidstack] no orientation API")}Jf(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};ms.supported=ua();let us=ms;function ri(i){return!k(i)&&"width"in i&&"height"in i&&pt(i.width)&&pt(i.height)}class Uh{constructor(t=void 0){this.bc=t,this.G=null,this.f=null,this.Rd=-1}setTarget(t){this.G=t}getPlayer(t){var e;return this.f?this.f:((e=t??this.G)==null||e.dispatchEvent(new F("find-media-player",{detail:s=>void(this.f=s),bubbles:!0,composed:!0})),this.f)}setPlayer(t){this.f=t}startLoading(t){this.s("media-start-loading",t)}startLoadingPoster(t){this.s("media-poster-start-loading",t)}requestAirPlay(t){this.s("media-airplay-request",t)}requestGoogleCast(t){this.s("media-google-cast-request",t)}play(t){this.s("media-play-request",t)}pause(t){this.s("media-pause-request",t)}mute(t){this.s("media-mute-request",t)}unmute(t){this.s("media-unmute-request",t)}enterFullscreen(t,e){this.s("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.s("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.s("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.s("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.s("media-enter-pip-request",t)}exitPictureInPicture(t){this.s("media-exit-pip-request",t)}seeking(t,e){this.s("media-seeking-request",e,t)}seek(t,e){this.s("media-seek-request",e,t)}seekToLiveEdge(t){this.s("media-live-edge-request",t)}changeVolume(t,e){this.s("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.s("media-audio-track-change-request",e,t)}changeQuality(t,e){this.s("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.s("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.s("media-rate-change-request",e,t)}changeAudioGain(t,e){this.s("media-audio-gain-change-request",e,t)}resumeControls(t){this.s("media-resume-controls-request",t)}pauseControls(t){this.s("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e==null?void 0:e.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;let s=e.state.textTracks,n=this.Rd;(!s[n]||!z(s[n]))&&(n=-1),n===-1&&(n=s.findIndex(r=>z(r)&&r.default)),n===-1&&(n=s.findIndex(r=>z(r))),n>=0&&this.changeTextTrackMode(n,"showing",t),this.Rd=-1}disableCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,n=e.state.textTrack;if(n){const r=s.indexOf(n);this.changeTextTrackMode(r,"disabled",t),this.Rd=r}}toggleCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,e){this.s("media-user-loop-change-request",e,t)}s(t,e,s){var o,h;const n=new F(t,{bubbles:!0,composed:!0,cancelable:!0,detail:s,trigger:e});let r=(e==null?void 0:e.target)||null;r&&r instanceof v&&(r=r.el),r=!r||r===document||r===window||r===document.body||((o=this.f)==null?void 0:o.el)&&r instanceof Node&&!this.f.el.contains(r)?this.G??((h=this.getPlayer())==null?void 0:h.el):r??this.G,this.f?t==="media-play-request"&&!this.f.state.canLoad?r==null||r.dispatchEvent(n):this.f.canPlayQueue.k(t,()=>r==null?void 0:r.dispatchEvent(n)):r==null||r.dispatchEvent(n)}Va(t){}}class te extends bt{}class Gh extends te{constructor(){super(...arguments),this.Sd=-2,this.Gb=!1,this.Sf=w(!1),this.Td=w(!1),this.ec=null,this.Ud=w(!0),this.defaultDelay=2e3}get canIdle(){return this.Ud()}set canIdle(t){this.Ud.set(t)}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.Sf()||t()}set hideOnMouseLeave(t){this.Sf.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Vd(),this.Gb||this.ad(!0,t,e)}hide(t=this.defaultDelay,e){this.Vd(),this.Gb||this.ad(!1,t,e)}pause(t){this.Gb=!0,this.Vd(),this.ad(!0,0,t)}resume(t){this.Gb=!1,!this.$state.paused()&&this.ad(!1,this.defaultDelay,t)}onConnect(){u(this.Hb.bind(this))}Hb(){const{viewType:t}=this.$state;if(!this.Ud())return;if(t()==="audio"){this.show();return}u(this.$h.bind(this)),u(this.fc.bind(this));const e=this.gc.bind(this),s=this.ib.bind(this);this.listen("can-play",n=>this.show(0,n)),this.listen("play",e),this.listen("pause",s),this.listen("auto-play-fail",s)}$h(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const n=this.hideOnMouseLeave;(!n||!this.Td())&&u(()=>{s()||this.listen("pointermove",this.Tf.bind(this))}),n&&(this.listen("mouseenter",this.ai.bind(this)),this.listen("mouseleave",this.bi.bind(this)))}fc(){const{paused:t,started:e,autoPlayError:s}=this.$state;if(t()||s()&&!e())return;const n=this.Tf.bind(this);u(()=>{const r=this.$state.pointer(),a=r==="coarse",o=[a?"touchend":"pointerup","keydown"];for(const h of o)this.listen(h,n,{passive:!1})})}gc(t){this.show(0,t),this.hide(void 0,t)}ib(t){this.show(0,t)}ai(t){this.Td.set(!1),this.show(0,t),this.hide(void 0,t)}bi(t){this.Td.set(!0),this.hide(0,t)}Vd(){window.clearTimeout(this.Sd),this.Sd=-1}Tf(t){var e;t.MEDIA_GESTURE||this.Gb||_i(t)||(Ms(t)&&(t.key==="Escape"?((e=this.el)==null||e.focus(),this.ec=null):this.ec&&(t.preventDefault(),requestAnimationFrame(()=>{var s;(s=this.ec)==null||s.focus(),this.ec=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}ad(t,e,s){if(e===0){this.E(t,s);return}this.Sd=window.setTimeout(()=>{this.scope&&this.E(t&&!this.Gb,s)},e)}E(t,e){var s;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&((s=this.el)!=null&&s.contains(document.activeElement))&&(this.ec=document.activeElement,requestAnimationFrame(()=>{var n;(n=this.el)==null||n.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))}}var ee=Kh;function Kh(i,t,e){var s=null,n=null,r=e&&e.leading,a=e&&e.trailing;r==null&&(r=!0),a==null&&(a=!r),r==!0&&(a=!1);var o=function(){s&&(clearTimeout(s),s=null)},h=function(){var l=n;o(),l&&l()},c=function(){var l=r&&!s,d=this,f=arguments;if(n=function(){return i.apply(d,f)},s||(s=setTimeout(function(){if(s=null,a)return n()},t)),l)return l=!1,n()};return c.cancel=o,c.flush=h,c}class Qh{constructor(){this.playerId="vds-player",this.mediaId=null,this.H={volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null},this.saveTimeThrottled=ee(this.saveTime.bind(this),1e3)}async getVolume(){return this.H.volume}async setVolume(t){this.H.volume=t,this.save()}async getMuted(){return this.H.muted}async setMuted(t){this.H.muted=t,this.save()}async getTime(){return this.H.time}async setTime(t,e){const s=t<0;this.H.time=s?null:t,s||e?this.saveTime():this.saveTimeThrottled()}async getLang(){return this.H.lang}async setLang(t){this.H.lang=t,this.save()}async getCaptions(){return this.H.captions}async setCaptions(t){this.H.captions=t,this.save()}async getPlaybackRate(){return this.H.rate}async setPlaybackRate(t){this.H.rate=t,this.save()}async getAudioGain(){return this.H.audioGain}async setAudioGain(t){this.H.audioGain=t,this.save()}async getVideoQuality(){return this.H.quality}async setVideoQuality(t){this.H.quality=t,this.save()}onChange(t,e,s="vds-player"){const n=s?localStorage.getItem(s):null,r=e?localStorage.getItem(e):null;this.playerId=s,this.mediaId=e,this.H={volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...n?JSON.parse(n):{},time:r?+r:null}}save(){if(!this.playerId)return;const t=JSON.stringify({...this.H,time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){if(!this.mediaId)return;const t=(this.H.time??0).toString();localStorage.setItem(this.mediaId,t)}}class Yh{constructor(){this.priority=0,this.Uf=!0,this.m=null,this.J=null,this.va=new Set}canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.E.bind(this))}addTrack(t){this.va.add(t),this.ci(t)}removeTrack(t){var e,s;(s=(e=t[C._])==null?void 0:e.remove)==null||s.call(e),t[C._]=null,this.va.delete(t)}changeTrack(t){const e=t==null?void 0:t[C._];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.J=t}setDisplay(t){this.Uf=t,this.E()}detach(){this.m&&(this.m.textTracks.onchange=null);for(const t of this.va)this.removeTrack(t);this.va.clear(),this.m=null,this.J=null}ci(t){var s;if(!this.m)return;const e=t[s=C._]??(t[s]=this.di(t));Se(e)&&(this.m.append(e),e.track.mode=e.default?"showing":"disabled")}di(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",n=t.src&&t.type==="vtt";return e.id=t.id,e.src=n?t.src:"",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!n&&this.Vf(t,e.track),e}Vf(t,e){var s;if(!(t.src&&t.type==="vtt"||(s=e.cues)!=null&&s.length))for(const n of t.cues)e.addCue(n)}E(t){for(const e of this.va){const s=e[C._];if(!s)continue;if(!this.Uf){s.track.mode=s.managed?"hidden":"disabled";continue}const n=s.track.mode==="showing";n&&this.Vf(e,s.track),e.setMode(n?"showing":"disabled",t)}}}class zh{constructor(t){this.a=t,this.m=null,this.bd=[],this.Wf=!1,this.wa=null,this.jb=null;const e=t.textTracks;this.Wd=e,u(this.Xd.bind(this)),A(this.ei.bind(this)),y(e,"add",this.Yd.bind(this)),y(e,"remove",this.fi.bind(this)),y(e,"mode-change",this.Ha.bind(this))}Xd(){const{nativeControls:t}=this.a.$state;this.Wf=t(),this.Ha()}add(t){this.bd.push(t),this.Ha()}remove(t){t.detach(),this.bd.splice(this.bd.indexOf(t),1),this.Ha()}Xf(t){requestAnimationFrame(()=>{if(this.m=t,t){this.wa=new Yh,this.wa.attach(t);for(const e of this.Wd)this.Yf(e)}this.Ha()})}Yf(t){var e;z(t)&&((e=this.wa)==null||e.addTrack(t))}gi(t){var e;z(t)&&((e=this.wa)==null||e.removeTrack(t))}Yd(t){this.Yf(t.detail)}fi(t){this.gi(t.detail)}Ha(){var s,n,r,a,o,h,c;const t=this.Wd.selected;if(this.m&&(this.Wf||t!=null&&t[C.Mf])){(s=this.jb)==null||s.changeTrack(null),(n=this.wa)==null||n.setDisplay(!0),(r=this.wa)==null||r.changeTrack(t);return}if((a=this.wa)==null||a.setDisplay(!1),(o=this.wa)==null||o.changeTrack(null),!t){(h=this.jb)==null||h.changeTrack(null);return}const e=this.bd.sort((l,d)=>l.priority-d.priority).find(l=>l.canRender(t,this.m));this.jb!==e&&((c=this.jb)==null||c.detach(),e==null||e.attach(this.m),this.jb=e??null),e==null||e.changeTrack(t)}ei(){var t,e;(t=this.wa)==null||t.detach(),this.wa=null,(e=this.jb)==null||e.detach(),this.jb=null}}var ji=Xh;function Xh(i,t,e){var s=null,n=null,r=function(){s&&(clearTimeout(s),n=null,s=null)},a=function(){var h=n;r(),h&&h()},o=function(){if(!t)return i.apply(this,arguments);var h=this,c=arguments,l=e&&!s;if(r(),n=function(){i.apply(h,c)},s=setTimeout(function(){if(s=null,!l){var d=n;return n=null,d()}},t),l)return n()};return o.cancel=r,o.flush=a,o}class Jh extends ba{constructor(){super(),this.Z=!1,this.kb={},this.lb=null,this.mb=null,this.bg=ji(async()=>{var s;if(!this.Z)return;!this.mb&&this.lb&&(this.mb=await this.lb.getLang());const t=await((s=this.lb)==null?void 0:s.getCaptions()),e=[["captions","subtitles"],"chapters","descriptions","metadata"];for(const n of e){const r=this.getByKind(n);if(r.find(l=>l.mode==="showing"))continue;const a=this.mb?r.find(l=>l.language===this.mb):null,o=Y(n)?this.kb[n.find(l=>this.kb[l])||""]:this.kb[n],h=a??o,c=h&&z(h);h&&(!c||t!==!1)&&(h.mode="showing",c&&this.cg(h))}},300),this.Zd=null,this.ag=this.hi.bind(this)}get selected(){return this.A.find(e=>e.mode==="showing"&&z(e))??null}get selectedIndex(){const t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return this.mb}set preferredLang(t){this.mb=t,this.$f(t)}add(t,e){const s=t instanceof ls,n=s?t:new ls(t),r=t.kind==="captions"||t.kind==="subtitles"?"captions":t.kind;return this.kb[r]&&t.default&&delete t.default,n.addEventListener("mode-change",this.ag),this[D.da](n,e),n[C.Db]=this[C.Db],this.Z&&n[C.Z](),t.default&&(this.kb[r]=n),this.bg(),this}remove(t,e){if(this.Zd=t,!!this.A.includes(t))return t===this.kb[t.kind]&&delete this.kb[t.kind],t.mode="disabled",t[C.hb]=null,t.removeEventListener("mode-change",this.ag),this[D.cc](t,e),this.Zd=null,this}clear(t){for(const e of[...this.A])this.remove(e,t);return this}getByKind(t){const e=Array.isArray(t)?t:[t];return this.A.filter(s=>e.includes(s.kind))}[C.Z](){if(!this.Z){for(const t of this.A)t[C.Z]();this.Z=!0,this.bg()}}hi(t){const e=t.detail;if(this.lb&&z(e)&&e!==this.Zd&&this.cg(e),e.mode==="showing"){const s=z(e)?["captions","subtitles"]:[e.kind];for(const n of this.A)n.mode==="showing"&&n!=e&&s.includes(n.kind)&&(n.mode="disabled")}this.dispatchEvent(new F("mode-change",{detail:t.detail,trigger:t}))}cg(t){var e,s;t.mode!=="disabled"&&this.$f(t.language),(s=(e=this.lb)==null?void 0:e.setCaptions)==null||s.call(e,t.mode==="showing")}$f(t){var e,s;(s=(e=this.lb)==null?void 0:e.setLang)==null||s.call(e,this.mb=t)}setStorage(t){this.lb=t}}const pe=Symbol(0);class va extends ba{get selected(){return this.A.find(t=>t.selected)??null}get selectedIndex(){return this.A.findIndex(t=>t.selected)}[D.Hf](t,e){this[D.ea](t,!1,e)}[D.da](t,e){t[pe]=!1,Object.defineProperty(t,"selected",{get(){return this[pe]},set:s=>{var n;this.readonly||((n=this[D.If])==null||n.call(this),this[D.ea](t,s))}}),super[D.da](t,e)}[D.ea](t,e,s){if(e===(t==null?void 0:t[pe]))return;const n=this.selected;t&&(t[pe]=e),(e?n!==t:n===t)&&(n&&(n[pe]=!1),this.dispatchEvent(new F("change",{detail:{prev:n,current:this.selected},trigger:s})))}}class Zh extends va{}class tc extends va{constructor(){super(...arguments),this.cd=!1,this.switch="current"}get auto(){return this.cd||this.readonly}[D.If](){this[wt.Wa](!1)}[D.Gf](t){this[wt.Ia]=void 0,this[wt.Wa](!1,t)}autoSelect(t){var e;this.readonly||this.cd||!this[wt.Ia]||((e=this[wt.Ia])==null||e.call(this,t),this[wt.Wa](!0,t))}getBySrc(t){return this.A.find(e=>e.src===t)}[wt.Wa](t,e){this.cd!==t&&(this.cd=t,this.dispatchEvent(new F("auto-change",{detail:t,trigger:e})))}}function Ta(i,t){return[...i].sort(t?sc:ec)}function ec(i,t){return i.height===t.height?(i.bitrate??0)-(t.bitrate??0):i.height-t.height}function sc(i,t){return t.height===i.height?(t.bitrate??0)-(i.bitrate??0):t.height-i.height}function ic(i){return i instanceof HTMLAudioElement}function nc(i){return i instanceof HTMLVideoElement}function rc(i){return ic(i)||nc(i)}const ac={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},sr=new Set(["Shift","Alt","Meta","Control"]),oc='button, [role="button"]',ir='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';class hc extends te{constructor(t){super(),this.a=t,this.Ib=null}onConnect(){u(this.ii.bind(this))}ii(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,n=w(!1);s===this.el?(this.listen("focusin",()=>n.set(!0)),this.listen("focusout",r=>{this.el.contains(r.target)||n.set(!1)})):(b(n)||n.set(document.querySelector("[data-media-player]")===this.el),y(document,"focusin",r=>{const a=r.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");a!==void 0&&n.set(this.el===a)})),u(()=>{n()&&(y(s,"keyup",this.hc.bind(this)),y(s,"keydown",this.ic.bind(this)),y(s,"keydown",this.ji.bind(this),{capture:!0}))})}hc(t){var r,a;const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e!=null&&e.matches(ir))return;let{method:s,value:n}=this._d(t);if(!k(n)&&!Y(n)){(r=n==null?void 0:n.onKeyUp)==null||r.call(n,{event:t,player:this.a.player,remote:this.a.remote}),(a=n==null?void 0:n.callback)==null||a.call(n,t,this.a.remote);return}if(s!=null&&s.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this.Ib?(this.dg(t,s==="seekForward"),this.Ib=null):(this.a.remote.seek(this.dd,t),this.dd=void 0)),s!=null&&s.startsWith("volume")){const o=this.el.querySelector("[data-media-volume-slider]");o==null||o.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}ic(t){var a,o,h,c;if(!t.key||sr.has(t.key))return;const e=document.activeElement;if(e!=null&&e.matches(ir)||Gr(t)&&(e!=null&&e.matches(oc)))return;let{method:s,value:n}=this._d(t),r=!t.metaKey&&/^[0-9]$/.test(t.key);if(!k(n)&&!Y(n)&&!r){(a=n==null?void 0:n.onKeyDown)==null||a.call(n,{event:t,player:this.a.player,remote:this.a.remote}),(o=n==null?void 0:n.callback)==null||o.call(n,t,this.a.remote);return}if(!s&&r){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s){switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.Ja(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const l=this.el.querySelector("[data-media-volume-slider]");if(l)l.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const f=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+f:-f),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const d=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,d+(s==="speedUp"?.25:-.25))),t);break;default:(c=(h=this.a.remote)[s])==null||c.call(h,t)}this.$state.lastKeyboardAction.set({action:s,event:t})}}ji(t){rc(t.target)&&this._d(t).method&&t.preventDefault()}_d(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(n=>{var o;const r=e[n],a=Y(r)?r.join(" "):k(r)?r:r==null?void 0:r.keys;return(o=Y(a)?a:a==null?void 0:a.split(" "))==null?void 0:o.some(h=>lc(h).replace(/Control/g,"Ctrl").split("+").every(c=>sr.has(c)?t[c.toLowerCase()+"Key"]:t.key===c.replace("Space"," ")))});return{method:s,value:s?e[s]:null}}ki(t,e){const s=t.shiftKey?10:5;return this.dd=Math.max(0,Math.min((this.dd??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}dg(t,e){var s;(s=this.Ib)==null||s.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}Ja(t,e,s){this.$state.canSeek()&&(this.Ib||(this.Ib=this.el.querySelector("[data-media-time-slider]")),this.Ib?this.dg(t,s):this.a.remote.seeking(this.ki(t,e),t))}}const cc=["!","@","#","$","%","^","&","*","(",")"];function lc(i){return i.replace(/Shift\+(\d)/g,(t,e)=>cc[e-1])}class uc extends bt{constructor(t){super(),this.$d=t}onAttach(t){const{$props:e,ariaKeys:s}=E(),n=t.getAttribute("aria-keyshortcuts");if(n){s[this.$d]=n,A(()=>{delete s[this.$d]});return}const r=e.keyShortcuts()[this.$d];if(r){const a=Y(r)?r.join(" "):k(r)?r:r==null?void 0:r.keys;t.setAttribute("aria-keyshortcuts",Y(a)?a.join(" "):a)}}}class dc{constructor(){this.name="audio"}canPlay(t){return qi(t)?!k(t.src)||t.type==="?"||ah(this.target,t.type):!1}mediaType(){return"audio"}async load(t){return new(await lt(()=>import("./vidstack-audio-BGH9t2_d.js"),__vite__mapDeps([2,3,4,1]))).AudioProvider(this.target,t)}}class Vi{constructor(){this.name="video"}canPlay(t){return Ii(t)?!k(t.src)||t.type==="?"||oh(this.target,t.type):!1}mediaType(){return"video"}async load(t){return new(await lt(()=>import("./vidstack-video-DBF2erZN.js"),__vite__mapDeps([5,3,4,1]))).VideoProvider(this.target,t)}}const bs=class bs extends Vi{constructor(){super(...arguments),this.name="dash"}canPlay(t){return bs.supported&&Ri(t)}async load(t){return new(await lt(()=>import("./vidstack-dash-CiajVXhq.js"),__vite__mapDeps([6,5,3,4,1]))).DASHProvider(this.target,t)}};bs.supported=dh();let ai=bs;const gs=class gs extends Vi{constructor(){super(...arguments),this.name="hls"}canPlay(t){return gs.supported&&qe(t)}async load(t){return new(await lt(()=>import("./vidstack-hls-DbreR3GZ.js"),__vite__mapDeps([7,5,3,4,1]))).HLSProvider(this.target,t)}};gs.supported=Mi();let oi=gs;class fc{constructor(){this.name="vimeo"}preconnect(){const t=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(const e of t)Ie(e)}canPlay(t){return k(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await lt(()=>import("./vidstack-vimeo-CrRoTn9A.js"),__vite__mapDeps([8,4,9,10,1]))).VimeoProvider(this.target,t)}async loadPoster(t,e,s){const{resolveVimeoVideoId:n,getVimeoVideoInfo:r}=await lt(()=>import("./vidstack-BTBUzdbF-Cao5mZMB.js"),[]);if(!k(t.src))return null;const{videoId:a}=n(t.src);return a?r(a,s).then(o=>o?o.poster:null):null}}class pc{constructor(){this.name="youtube"}preconnect(){const t=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(const e of t)Ie(e)}canPlay(t){return k(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await lt(()=>import("./vidstack-youtube-B9F30UZb.js"),__vite__mapDeps([11,9,12,1]))).YouTubeProvider(this.target,t)}async loadPoster(t,e,s){const{findYouTubePoster:n,resolveYouTubeVideoId:r}=await lt(()=>import("./vidstack-DscYSLiW-CA6XwpqT.js"),[]),a=k(t.src)&&r(t.src);return a?n(a,s):null}}const Qs=Symbol(0),mc=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],bc={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:ac,storage:null};class nr extends te{constructor(t,e){super(),this.la=t,this.La=e}async onAttach(t){const e=this.$props[this.la]();if(e==="eager")requestAnimationFrame(this.La);else if(e==="idle")to(this.La);else if(e==="visible"){let s,n=new IntersectionObserver(r=>{this.scope&&r[0].isIntersecting&&(s==null||s(),s=void 0,this.La())});n.observe(t),s=A(()=>n.disconnect())}}}class gc{constructor(t,e){this.V=t,this.a=e,this.c=(s,...n)=>{this.V(new F(s,{detail:n==null?void 0:n[0],trigger:n==null?void 0:n[1]}))}}async Ga(t,e){return $i(async()=>{var It,it,U,N,nt,G,L;this.a;const{autoPlay:s,canPlay:n,started:r,duration:a,seekable:o,buffered:h,remotePlaybackInfo:c,playsInline:l,savedState:d,source:f}=this.a.$state;if(n())return;const p={duration:(t==null?void 0:t.duration)??a(),seekable:(t==null?void 0:t.seekable)??o(),buffered:(t==null?void 0:t.buffered)??h(),provider:this.a.$provider()};this.c("can-play",p,e),Ot();let m=this.a.$provider(),{storage:g,qualities:T}=this.a,{muted:$,volume:P,clipStartTime:O,playbackRate:q}=this.a.$props;await((It=g==null?void 0:g.onLoad)==null?void 0:It.call(g,f()));const R=(it=d())==null?void 0:it.currentTime,B=(U=d())==null?void 0:U.paused,X=await(g==null?void 0:g.getTime()),st=R??X??O(),Ut=B||B!==!1&&!r()&&s();if(m){m.setVolume(await(g==null?void 0:g.getVolume())??P()),m.setMuted(await(g==null?void 0:g.getMuted())??$());const rt=await(g==null?void 0:g.getAudioGain())??1;rt>1&&((nt=(N=m.audioGain)==null?void 0:N.setGain)==null||nt.call(N,rt)),(G=m.setPlaybackRate)==null||G.call(m,await(g==null?void 0:g.getPlaybackRate())??q()),(L=m.setPlaysInline)==null||L.call(m,l()),st>0&&m.setCurrentTime(st)}const gt=await(g==null?void 0:g.getVideoQuality());if(gt&&T.length){let rt=null,Gt=1/0;for(const Et of T){const ie=Math.abs(gt.width-Et.width)+Math.abs(gt.height-Et.height)+(gt.bitrate?Math.abs(gt.bitrate-(Et.bitrate??0)):0);ie<Gt&&(rt=Et,Gt=ie)}rt&&(rt.selected=!0)}n()&&Ut?await this.kj(e):X&&X>0&&this.c("started",void 0,e),c.set(null)})}async kj(t){const{player:e,$state:{autoPlaying:s,muted:n}}=this.a;s.set(!0);const r=new F("auto-play-attempt",{trigger:t});try{await e.play(r)}catch{}}}class yc{constructor(){this.i=new Map}k(t,e){this.i.set(t,e)}xe(t){const e=this.rg(t);return this.i.delete(t),e}rg(t){return this.i.get(t)}ub(t){this.i.delete(t)}Pm(){this.i.clear()}}class ka{constructor(){this.wc=!1,this.ye=Zs(),this.i=new Map}get Qm(){return this.i.size}get Rm(){return this.wc}async Sm(){this.wc||await this.ye.promise}k(t,e){if(this.wc){e();return}this.i.delete(t),this.i.set(t,e)}xe(t){var e;(e=this.i.get(t))==null||e(),this.i.delete(t)}Xa(){this.sg(),this.wc=!0,this.i.size>0&&this.sg()}$(){this.wc=!1}z(){this.$(),this.i.clear(),this.tg()}sg(){for(const t of this.i.keys())this.xe(t);this.tg()}tg(){this.ye.resolve(),this.ye=Zs()}}class $c extends te{constructor(t,e,s){super(),this.Ba=t,this.g=e,this.a=s,this.zc=new ka,this.Fe=!1,this.C=s.$provider,this.yc=new Gh,this.pd=new Bh,this.bb=new us}onAttach(){this.listen("fullscreen-change",this.Qd.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.Hj.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);this.Ij(),u(this.Jj.bind(this)),u(this.Kj.bind(this)),u(this.Lj.bind(this)),u(this.Mj.bind(this)),u(this.Nj.bind(this)),u(this.Oj.bind(this)),u(this.Pj.bind(this))}onDestroy(){try{const t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:s}=this.$state;s()&&this.Lg("prefer-media",t),e()&&this.Ge(t)}catch{}this.zc.z()}Ij(){const{load:t}=this.$props,{canLoad:e}=this.$state;if(t()!=="play"||e())return;const s=this.listen("media-play-request",n=>{this.Gg(n),s()})}Jj(){const t=this.C(),e=this.$state.canPlay();return t&&e&&this.zc.Xa(),()=>{this.zc.$()}}Hj(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&(b(this.C)?this[t.type](t):this.zc.k(t.type,()=>{b(this.C)&&this[t.type](t)}))}async Ac(t){const{canPlay:e,paused:s,autoPlaying:n}=this.$state;if(!this.Gg(t)&&b(s)){t&&this.g.i.k("media-play-request",t);try{const r=b(this.C);return Ys(r,b(e)),await r.play()}catch(r){const a=this.createEvent("play-fail",{detail:Gs(r),trigger:t});throw a.autoPlay=n(),this.Ba.V(a),r}}}Gg(t){const{load:e}=this.$props,{canLoad:s}=this.$state;if(e()==="play"&&!s()){const n=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(n),this.zc.k("media-play-request",async()=>{try{await this.Ac(n)}catch{}}),!0}return!1}async Ee(t){const{canPlay:e,paused:s}=this.$state;if(!b(s)){t&&this.g.i.k("media-pause-request",t);try{const n=b(this.C);return Ys(n,b(e)),await n.pause()}catch(n){throw this.g.i.ub("media-pause-request"),n}}}Hg(t,e){const{audioGain:s,canSetAudioGain:n}=this.$state;if(s()===t)return;const r=this.C();if(!(r!=null&&r.audioGain)||!n())throw Error("[vidstack] audio gain api not available");e&&this.g.i.k("media-audio-gain-change-request",e),r.audioGain.setGain(t)}Ig(t){const{canPlay:e,live:s,liveEdge:n,canSeek:r,liveSyncPosition:a,seekableEnd:o,userBehindLiveEdge:h}=this.$state;if(h.set(!1),b(()=>!s()||n()||!r()))return;const c=b(this.C);Ys(c,b(e)),t&&this.g.i.k("media-seek-request",t);const l=o()-2;c.setCurrentTime(Math.min(l,a()??l))}async Jg(t="prefer-media",e){const s=this.Kg(t);if(rr(t,s),!s.active)return b(this.$state.pictureInPicture)&&(this.Fe=!0,await this.Ge(e)),e&&this.g.i.k("media-enter-fullscreen-request",e),s.enter()}async Lg(t="prefer-media",e){const s=this.Kg(t);if(rr(t,s),!!s.active){e&&this.g.i.k("media-exit-fullscreen-request",e);try{const n=await s.exit();return this.Fe&&b(this.$state.canPictureInPicture)&&await this.He(),n}finally{this.Fe=!1}}}Kg(t){const e=b(this.C);return t==="prefer-media"&&this.pd.supported||t==="media"?this.pd:e==null?void 0:e.fullscreen}async He(t){if(this.Mg(),!this.$state.pictureInPicture())return t&&this.g.i.k("media-enter-pip-request",t),await this.C().pictureInPicture.enter()}async Ge(t){if(this.Mg(),!!this.$state.pictureInPicture())return t&&this.g.i.k("media-exit-pip-request",t),await this.C().pictureInPicture.exit()}Mg(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}Kj(){this.yc.defaultDelay=this.$props.controlsDelay()}Lj(){var s,n;const{canSetAudioGain:t}=this.$state,e=!!((n=(s=this.C())==null?void 0:s.audioGain)!=null&&n.supported);t.set(e)}Mj(){var s,n;const{canAirPlay:t}=this.$state,e=!!((n=(s=this.C())==null?void 0:s.airPlay)!=null&&n.supported);t.set(e)}Nj(){const{canGoogleCast:t,source:e}=this.$state,s=nh&&!ca&&vh(e());t.set(s)}Oj(){var s,n;const{canFullscreen:t}=this.$state,e=this.pd.supported||!!((n=(s=this.C())==null?void 0:s.fullscreen)!=null&&n.supported);t.set(e)}Pj(){var s,n;const{canPictureInPicture:t}=this.$state,e=!!((n=(s=this.C())==null?void 0:s.pictureInPicture)!=null&&n.supported);t.set(e)}async"media-airplay-request"(t){try{await this.Ng(t)}catch{}}async Ng(t){var e;try{const s=(e=this.C())==null?void 0:e.airPlay;if(!(s!=null&&s.supported))throw Error("No AirPlay adapter.");return t&&this.g.i.k("media-airplay-request",t),await s.prompt()}catch(s){throw this.g.i.ub("media-airplay-request"),s}}async"media-google-cast-request"(t){try{await this.Og(t)}catch{}}async Og(t){try{const{canGoogleCast:e}=this.$state;if(!b(e)){const n=Error("Cast not available.");throw n.code="CAST_NOT_AVAILABLE",n}if(Ie("https://www.gstatic.com"),!this.qd){const n=await lt(()=>import("./vidstack-Co3KQCSA-BELn3uK4.js").then(r=>r.v),__vite__mapDeps([13,1]));this.qd=new n.GoogleCastLoader}await this.qd.prompt(this.a),t&&this.g.i.k("media-google-cast-request",t);const s=b(this.$state.remotePlaybackState)!=="disconnected";s&&this.$state.savedState.set({paused:b(this.$state.paused),currentTime:b(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(s?this.qd:null)}catch(e){throw this.g.i.ub("media-google-cast-request"),e}}"media-audio-track-change-request"(t){const{logger:e,audioTracks:s}=this.a;if(s.readonly)return;const n=t.detail,r=s[n];if(r){const a=t.type;this.g.i.k(a,t),r.selected=!0}}async"media-enter-fullscreen-request"(t){try{await this.Jg(t.detail,t)}catch(e){this.Zc(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.Lg(t.detail,t)}catch(e){this.Zc(e,t)}}async Qd(t){const e=b(this.$props.fullscreenOrientation),s=t.detail;if(!($t(e)||e==="none"||!this.bb.supported))if(s){if(this.bb.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.bb.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}Zc(t,e){this.Ba.V(this.createEvent("fullscreen-error",{detail:Gs(t)}))}async"media-orientation-lock-request"(t){const e=t.type;try{this.g.i.k(e,t),await this.bb.lock(t.detail)}catch{this.g.i.ub(e)}}async"media-orientation-unlock-request"(t){const e=t.type;try{this.g.i.k(e,t),await this.bb.unlock()}catch{this.g.i.ub(e)}}async"media-enter-pip-request"(t){try{await this.He(t)}catch(e){this.Pg(e,t)}}async"media-exit-pip-request"(t){try{await this.Ge(t)}catch(e){this.Pg(e,t)}}Pg(t,e){this.Ba.V(this.createEvent("picture-in-picture-error",{detail:Gs(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:n}=this.$state;if(!(!e()||s()||!n())){this.g.i.k("media-seek-request",t);try{this.Ig()}catch{this.g.i.ub("media-seek-request")}}}async"media-loop-request"(t){try{this.g.Ob=!0,this.g.Bc=!0,await this.Ac(t)}catch{this.g.Ob=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async"media-pause-request"(t){if(!this.$state.paused())try{await this.Ee(t)}catch{}}async"media-play-request"(t){if(this.$state.paused())try{await this.Ac(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const n=this.C();n!=null&&n.setPlaybackRate&&(this.g.i.k("media-rate-change-request",t),n.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.Hg(t.detail,t)}catch{}}"media-quality-change-request"(t){var a,o;const{qualities:e,storage:s,logger:n}=this.a;if(e.readonly)return;this.g.i.k("media-quality-change-request",t);const r=t.detail;if(r<0)e.autoSelect(t),t.isOriginTrusted&&((a=s==null?void 0:s.setVideoQuality)==null||a.call(s,null));else{const h=e[r];h&&(h.selected=!0,t.isOriginTrusted&&((o=s==null?void 0:s.setVideoQuality)==null||o.call(s,{id:h.id,width:h.width,height:h.height,bitrate:h.bitrate})))}}"media-pause-controls-request"(t){const e=t.type;this.g.i.k(e,t),this.yc.pause(t)}"media-resume-controls-request"(t){const e=t.type;this.g.i.k(e,t),this.yc.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:n,canSeek:r,live:a,userBehindLiveEdge:o,clipStartTime:h}=this.$state,c=t.detail;n()&&(this.g.Bc=!0);const l=t.type;this.g.Ja=!1,this.g.i.ub(l);const d=c+h(),f=Math.floor(d)===Math.floor(s()),p=f?s():Math.min(Math.max(e()+.1,d),s()-.1);!Number.isFinite(p)||!r()||(this.g.i.k(l,t),this.C().setCurrentTime(p),a()&&t.isOriginTrusted&&Math.abs(s()-p)>=2&&o.set(!0))}"media-seeking-request"(t){const e=t.type;this.g.i.k(e,t),this.$state.seeking.set(!0),this.g.Ja=!0}"media-start-loading"(t){if(this.$state.canLoad())return;const e=t.type;this.g.i.k(e,t),this.Ba.V(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;const e=t.type;this.g.i.k(e,t),this.Ba.V(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,n=this.a.textTracks[e];if(n){const r=t.type;this.g.i.k(r,t),n.setMode(s,t)}}"media-mute-request"(t){if(this.$state.muted())return;const e=t.type;this.g.i.k(e,t),this.C().setMuted(!0)}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;if(!e())return;const n=t.type;this.g.i.k(n,t),this.a.$provider().setMuted(!1),s()===0&&(this.g.i.k(n,t),this.C().setVolume(.25))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,n=t.detail;if(s()===n)return;const r=t.type;this.g.i.k(r,t),this.C().setVolume(n),n>0&&e()&&(this.g.i.k(r,t),this.C().setMuted(!1))}Qa(t,e,s){}}function Ys(i,t){if(!(i&&t))throw Error("[vidstack] media not ready")}function rr(i,t){if(!(t!=null&&t.supported))throw Error("[vidstack] no fullscreen support")}class wc{constructor(){this.Ja=!1,this.Ob=!1,this.Bc=!1,this.i=new yc}}const vc=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class Tc extends te{constructor(t,e){super(),this.g=t,this.a=e,this.u=new Map,this.rd=!1,this.sd=!1,this.Cc=!1,this.Ke=null,this.seeking=ee(s=>{const{seeking:n,realCurrentTime:r,paused:a}=this.$state;n.set(!0),r.set(s.detail),this.D("media-seeking-request",s),a()&&(this.Pb=s,this.Le())},150,{leading:!0}),this.Le=ji(()=>{if(!this.Pb)return;this.sd=!0;const{waiting:s,playing:n}=this.$state;s.set(!0),n.set(!1);const r=this.createEvent("waiting",{trigger:this.Pb});this.u.set("waiting",r),this.dispatch(r),this.Pb=void 0,this.sd=!1},300)}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){u(this.Qj.bind(this)),this.Rj(),this.Sj(),this.Tj(),this.Uj(),A(this.Vj.bind(this))}onDestroy(){const{audioTracks:t,qualities:e,textTracks:s}=this.a;t[D.z](),e[D.z](),s[D.z](),this.Ie()}V(t){if(!this.scope)return;const e=t.type;$i(()=>{var s;return(s=this[t.type])==null?void 0:s.call(this,t)}),vc.has(e)&&this.u.set(e,t),this.dispatch(t)}Uj(){this.Cc&&(requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new F("dom-connect"))}),this.Cc=!1)}Vj(){var t;this.Cc||(this.Cc=!this.$state.paused(),(t=this.a.$provider())==null||t.pause())}vb(){this.Qg(),this.rd=!1,this.g.Bc=!1,this.g.Ob=!1,this.sd=!1,this.Pb=void 0,this.u.clear()}D(t,e){const s=this.g.i.xe(t);s&&(e.request=s,e.triggers.add(s))}Rj(){this.Je(),this.Rg();const t=this.a.textTracks;y(t,"add",this.Je.bind(this)),y(t,"remove",this.Je.bind(this)),y(t,"mode-change",this.Rg.bind(this))}Sj(){const t=this.a.qualities;y(t,"add",this.ld.bind(this)),y(t,"remove",this.ld.bind(this)),y(t,"change",this.Za.bind(this)),y(t,"auto-change",this.Wj.bind(this)),y(t,"readonly-change",this.Xj.bind(this))}Tj(){const t=this.a.audioTracks;y(t,"add",this.Sg.bind(this)),y(t,"remove",this.Sg.bind(this)),y(t,"change",this.Yj.bind(this))}Je(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}Rg(t){t&&this.D("media-text-track-change-request",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}Sg(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Yj(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),t&&this.D("media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}ld(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}Za(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),t&&this.D("media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}Wj(){const{qualities:t}=this.a,e=t.auto;this.$state.autoQuality.set(e),e||this.Ie()}Tg(){this.Ie(),this.Ke=u(()=>{const{qualities:t}=this.a,{mediaWidth:e,mediaHeight:s}=this.$state,n=e(),r=s();if(n===0||r===0)return;let a=null,o=1/0;for(const h of t){const c=Math.abs(h.width-n)+Math.abs(h.height-r);c<o&&(o=c,a=h)}a&&t[D.ea](a,!0,new F("resize",{detail:{width:n,height:r}}))})}Ie(){var t;(t=this.Ke)==null||t.call(this),this.Ke=null}Xj(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}Qj(){const{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}ch().then(t.set)}"provider-change"(t){var n,r;const e=this.a.$provider(),s=t.detail;(e==null?void 0:e.type)!==(s==null?void 0:s.type)&&((n=e==null?void 0:e.destroy)==null||n.call(e),(r=e==null?void 0:e.scope)==null||r.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.Ug(t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),this.vb()}"can-load"(t){this.$state.canLoad.set(!0),this.u.set("can-load",t),this.a.textTracks[C.Z](),this.D("media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),this.u.set("can-load-poster",t),this.D("media-poster-start-loading",t)}"media-type-change"(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const n=this.$state.providedViewType(),r=n==="unknown"?t.detail:n;s!==r&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:r,trigger:t}))})},0)}"stream-type-change"(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:n}=this.$state;n.set(t.detail),t.detail=s()}"rate-change"(t){var n;const{storage:e}=this.a,{canPlay:s}=this.$state;this.$state.playbackRate.set(t.detail),this.D("media-rate-change-request",t),s()&&((n=e==null?void 0:e.setPlaybackRate)==null||n.call(e,t.detail))}"remote-playback-change"(t){const{remotePlaybackState:e,remotePlaybackType:s}=this.$state,{type:n,state:r}=t.detail,a=r==="connected";s.set(n),e.set(r);const o=n==="airplay"?"media-airplay-request":"media-google-cast-request";if(a)this.D(o,t);else{const h=this.g.i.rg(o);h&&(t.request=h,t.triggers.add(h))}}"sources-change"(t){const e=this.$state.sources(),s=t.detail;this.$state.sources.set(s),this.Zj(e,s,t)}Zj(t,e,s){let{qualities:n}=this.a,r=!1,a=!1;for(const o of t){if(!ri(o))continue;if(!e.some(c=>c.src===o.src)){const c=n.getBySrc(o.src);c&&(n[D.cc](c,s),a=!0)}}a&&!n.length&&(this.$state.savedState.set(null),n[D.z](s));for(const o of e){if(!ri(o)||n.getBySrc(o.src))continue;const h={id:o.id??o.height+"p",bitrate:null,codec:null,...o,selected:!1};n[D.da](h,s),r=!0}r&&!n[wt.Ia]&&(this.Tg(),n[wt.Ia]=this.Tg.bind(this),n[wt.Wa](!0,s))}"source-change"(t){var s,n;t.isQualityChange=((s=t.originEvent)==null?void 0:s.type)==="quality-change";const e=t.detail;this.Ug(t,t.isQualityChange),this.u.set(t.type,t),this.$state.source.set(e),(n=this.el)==null||n.setAttribute("aria-busy","true")}Ug(t,e=!1){const{audioTracks:s,qualities:n}=this.a;if(!e){s[D.z](t),n[D.z](t),Zn(this.$state,e),this.vb();return}Zn(this.$state,e),this.vb()}abort(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const s=this.u.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.u.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.u.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.u.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.u.get("load-start");e&&t.triggers.add(e)}"can-play"(t){var s;const e=this.u.get("loaded-metadata");e&&t.triggers.add(e),this.Vg(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","false")}"can-play-through"(t){this.Vg(t.detail);const e=this.u.get("can-play");e&&t.triggers.add(e)}Vg(t){const{seekable:e,buffered:s,intrinsicDuration:n,canPlay:r}=this.$state;r.set(!0),s.set(t.buffered),e.set(t.seekable);const a=ye(t.seekable)??1/0;n.set(a)}"duration-change"(t){const{live:e,intrinsicDuration:s,ended:n}=this.$state,r=t.detail;if(!e()){const a=Number.isNaN(r)?0:r;s.set(a),n()&&this.Wg(t)}}progress(t){const{buffered:e,bufferedEnd:s,seekable:n,seekableEnd:r,live:a,intrinsicDuration:o}=this.$state,{buffered:h,seekable:c}=t.detail,l=ye(h)??1/0,d=h.length!==e().length,f=l>s(),p=ye(c)??1/0,m=c.length!==n().length,g=p>r();(d||f)&&e.set(h),(m||g)&&n.set(c),a()&&(o.set(p),this.dispatch("duration-change",{detail:p,trigger:t}))}play(t){const{paused:e,autoPlayError:s,ended:n,autoPlaying:r,playsInline:a,pointer:o,muted:h,viewType:c,live:l,userBehindLiveEdge:d}=this.$state;if(this._j(),!e()){t.stopImmediatePropagation();return}t.autoPlay=r();const f=this.u.get("waiting");f&&t.triggers.add(f),this.D("media-play-request",t),this.u.set("play",t),e.set(!1),s.set(null),t.autoPlay&&(this.V(this.createEvent("auto-play",{detail:{muted:h()},trigger:t})),r.set(!1)),(n()||this.g.Bc)&&(this.g.Bc=!1,n.set(!1),this.V(this.createEvent("replay",{trigger:t}))),!a()&&c()==="video"&&o()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t),l()&&!d()&&this.a.remote.seekToLiveEdge(t)}_j(t){if(!b(this.a.$provider))return;const{ended:s,seekableStart:n,clipStartTime:r,clipEndTime:a,realCurrentTime:o,duration:h}=this.$state,c=o()<r()||a()>0&&o()>=a()||Math.abs(o()-h())<.1||s();return c&&this.dispatch("media-seek-request",{detail:(r()>0?0:n())+.1,trigger:t}),c}"play-fail"(t){const{muted:e,autoPlaying:s}=this.$state,n=this.u.get("play");n&&t.triggers.add(n),this.D("media-play-request",t);const{paused:r,playing:a}=this.$state;r.set(!0),a.set(!1),this.vb(),this.u.set("play-fail",t),t.autoPlay&&(this.V(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.u.get("play"),s=this.u.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.vb(),0);const{paused:n,playing:r,live:a,liveSyncPosition:o,seekableEnd:h,started:c,currentTime:l,seeking:d,ended:f}=this.$state;if(n.set(!1),r.set(!0),d.set(!1),f.set(!1),this.g.Ob){this.g.Ob=!1;return}if(a()&&!c()&&l()===0){const p=o()??h()-2;Number.isFinite(p)&&this.a.$provider().setCurrentTime(p)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.V(this.createEvent("started",{trigger:t})))}pause(t){var r;(r=this.el)!=null&&r.isConnected||(this.Cc=!0),this.D("media-pause-request",t);const e=this.u.get("seeked");e&&t.triggers.add(e);const{paused:s,playing:n}=this.$state;s.set(!0),n.set(!1),this.rd&&setTimeout(()=>{this.V(this.createEvent("end",{trigger:t})),this.rd=!1},0),this.vb()}"time-update"(t){if(this.g.Ob){t.stopImmediatePropagation();return}const{realCurrentTime:e,played:s,waiting:n,clipEndTime:r}=this.$state,a=r(),o=t.detail;e.set(o.currentTime),s.set(o.played),n.set(!1);for(const h of this.a.textTracks)h[C.Eb](o.currentTime,t);a>0&&o.currentTime>=a&&(this.rd=!0,this.dispatch("media-pause-request",{trigger:t})),this.$j()}Wg(t){const{duration:e,played:s}=this.$state,n=ei(s())??0;this.V(this.createEvent("time-update",{detail:{currentTime:e(),played:new Je(n,e())},trigger:t}))}$j(){var n;const{storage:t}=this.a,{canPlay:e,realCurrentTime:s}=this.$state;e()&&((n=t==null?void 0:t.setTime)==null||n.call(t,s()))}"audio-gain-change"(t){var r;const{storage:e}=this.a,{canPlay:s,audioGain:n}=this.$state;n.set(t.detail),this.D("media-audio-gain-change-request",t),s()&&((r=e==null?void 0:e.setAudioGain)==null||r.call(e,n()))}"volume-change"(t){var o,h;const{storage:e}=this.a,{volume:s,muted:n,canPlay:r}=this.$state,a=t.detail;s.set(a.volume),n.set(a.muted||a.volume===0),this.D("media-volume-change-request",t),this.D(a.muted?"media-mute-request":"media-unmute-request",t),r()&&((o=e==null?void 0:e.setVolume)==null||o.call(e,s()),(h=e==null?void 0:e.setMuted)==null||h.call(e,n()))}seeked(t){const{seeking:e,currentTime:s,realCurrentTime:n,paused:r,seekableEnd:a,ended:o}=this.$state;if(this.g.Ja)e.set(!0),t.stopImmediatePropagation();else if(e()){const h=this.u.get("waiting");h&&t.triggers.add(h);const c=this.u.get("seeking");c&&!t.triggers.has(c)&&t.triggers.add(c),r()&&this.Qg(),e.set(!1),n.set(t.detail),this.D("media-seek-request",t);const l=t==null?void 0:t.originEvent;l!=null&&l.isTrusted&&!/seek/.test(l.type)&&this.started(t)}Math.floor(s())!==Math.floor(a())?o.set(!1):this.end(t)}waiting(t){this.sd||this.g.Ja||(t.stopImmediatePropagation(),this.Pb=t,this.Le())}end(t){const{loop:e,ended:s}=this.$state;if(!(!e()&&s())){if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},10);return}setTimeout(()=>this.lc(t),0)}}lc(t){var o;const{storage:e}=this.a,{paused:s,seeking:n,ended:r,duration:a}=this.$state;this.Wg(t),s()||this.dispatch("pause",{trigger:t}),n()&&this.dispatch("seeked",{detail:a(),trigger:t}),r.set(!0),this.vb(),(o=e==null?void 0:e.setTime)==null||o.call(e,a(),!0),this.dispatch("ended",{trigger:t})}Qg(){this.Le.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){const e=t.detail;this.$state.fullscreen.set(e),this.D(e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){this.D("media-enter-fullscreen-request",t),this.D("media-exit-fullscreen-request",t)}"orientation-change"(t){const e=t.detail.lock;this.D(e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){const e=t.detail;this.$state.pictureInPicture.set(e),this.D(e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){this.D("media-enter-pip-request",t),this.D("media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}}class kc extends te{onSetup(){this.Hb(),u(this.bk.bind(this)),u(this.ck.bind(this)),u(this.dk.bind(this)),u(this.Xd.bind(this)),u(this.Ca.bind(this)),u(this.ek.bind(this)),u(this.fk.bind(this)),u(this.gk.bind(this)),u(this.hk.bind(this)),u(this.ik.bind(this)),u(this.Me.bind(this)),u(this.jk.bind(this)),u(this.kk.bind(this)),u(this.td.bind(this))}Hb(){var s;const t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(const n of Object.keys(this.$props))e.has(n)||(s=this.$state[t[n]??n])==null||s.set(this.$props[n]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}kk(){const{viewType:t,streamType:e,title:s,poster:n,loop:r}=this.$props,a=this.$state;a.providedPoster.set(n()),a.providedStreamType.set(e()),a.providedViewType.set(t()),a.providedTitle.set(s()),a.providedLoop.set(r())}ak(){}bk(){const{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())}td(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}ck(){const t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}ik(){const t=this.$state.loop();this.dispatch("loop-change",{detail:t})}Xd(){const t=this.$props.controls();this.$state.controls.set(t)}jk(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Ca(){const t=this.$props.crossOrigin()??this.$props.crossorigin(),e=t===!0?"":t;this.$state.crossOrigin.set(e)}ek(){const{providedDuration:t}=this.$state;t.set(this.$props.duration())}Me(){const t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}dk(){const{clipStartTime:t,clipEndTime:e}=this.$props;this.$state.clipStartTime.set(t()),this.$state.clipEndTime.set(e())}fk(){this.dispatch("live-change",{detail:this.$state.live()})}hk(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}gk(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}const ve=class ve extends te{constructor(){super()}onConnect(){u(this.lk.bind(this)),u(this.mk.bind(this));const t=this.nk.bind(this);for(const e of ve.Xg)navigator.mediaSession.setActionHandler(e,t);A(this.Fa.bind(this))}Fa(){for(const t of ve.Xg)navigator.mediaSession.setActionHandler(t,null)}lk(){const{title:t,artist:e,artwork:s,poster:n}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:t(),artist:e(),artwork:s()??[{src:n()}]})}mk(){const{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}nk(t){const e=new F("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:pt(t.seekTime)?t.seekTime:this.$state.currentTime()+(t.seekOffset??10),trigger:e});break}}};ve.Xg=["play","pause","seekforward","seekbackward","seekto"];let hi=ve,ds=w(!1);y(document,"pointerdown",()=>{ds.set(!1)}),y(document,"keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||ds.set(!0)});class xt extends bt{constructor(){super(...arguments),this.Dc=w(!1)}onConnect(t){u(()=>{if(!ds()){this.Dc.set(!1),Qe(t,!1),this.listen("pointerenter",this.Oe.bind(this)),this.listen("pointerleave",this.Pe.bind(this));return}const e=document.activeElement===t;this.Dc.set(e),Qe(t,e),this.listen("focus",this.Ec.bind(this)),this.listen("blur",this.qk.bind(this))})}focused(){return this.Dc()}Ec(){this.Dc.set(!0),Qe(this.el,!0)}qk(){this.Dc.set(!1),Qe(this.el,!1)}Oe(){ar(this.el,!0)}Pe(){ar(this.el,!1)}}function Qe(i,t){S(i,"data-focus",t),S(i,"data-hocus",t)}function ar(i,t){S(i,"data-hocus",t),S(i,"data-hover",t)}var Sc=Object.defineProperty,xc=Object.getOwnPropertyDescriptor,_=(i,t,e,s)=>{for(var n=s>1?void 0:s?xc(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Sc(t,e,n),n},Ct;const I=(Ct=class extends v{constructor(){super(),this.canPlayQueue=new ka,this.Re=!1,new kc;const t={player:this,qualities:new tc,audioTracks:new Zh,storage:null,$provider:w(null),$providerSetup:w(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new Uh(void 0),t.remote.setPlayer(this),t.textTracks=new Jh,t.textTracks[C.Db]=this.$state.crossOrigin,t.textRenderers=new zh(t),t.ariaKeys={},this.a=t,tt($a,t),this.orientation=new us,new xt,new hc(t);const e=new wc;this.Ba=new Tc(e,t),this.W=new $c(this.Ba,e,t),t.delegate=new gc(this.Ba.V.bind(this.Ba),t),new hi,new nr("load",this.startLoading.bind(this)),new nr("posterLoad",this.startLoadingPoster.bind(this))}get p(){return this.a.$provider()}get vd(){return this.$props}onSetup(){this.rk(),u(this.sk.bind(this)),u(this.tk.bind(this)),u(this.fc.bind(this)),u(this.Fc.bind(this)),u(this.Qb.bind(this)),u(this.Me.bind(this)),u(this.Qe.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),M(t,"tabindex","0"),M(t,"role","region"),u(this.uk.bind(this)),u(this.td.bind(this)),u(this.Yg.bind(this)),y(t,"find-media-player",this.vk.bind(this))}onConnect(t){la&&S(t,"data-iphone","");const e=window.matchMedia("(pointer: coarse)");this.Zg(e),e.onchange=this.Zg.bind(this);const s=new ResizeObserver(Zt(this.pa.bind(this)));s.observe(t),u(this.pa.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),A(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.z()}td(){const t=this.$el,{title:e,live:s,viewType:n,providedTitle:r}=this.$state,a=s(),o=Xa(n()),h=o!=="Unknown"?`${a?"Live ":""}${o}`:a?"Live":"Media",c=e();S(this.el,"aria-label",`${h} Player`+(c?` - ${c}`:"")),t!=null&&t.hasAttribute("title")&&(this.Re=!0,t==null||t.removeAttribute("title"))}Yg(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),S(this.el,"data-orientation",t),this.pa()}sk(){this.$state.canPlay()&&this.p?this.canPlayQueue.Xa():this.canPlayQueue.$()}rk(){if(Ct[Qs]){this.setAttributes(Ct[Qs]);return}const t={"data-load":function(){return this.$props.load()},"data-captions":function(){const s=this.$state.textTrack();return!!s&&z(s)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canLoad:s,canPlay:n,waiting:r}=this.$state;return s()&&(!n()||r())},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoPlayError:s}=this.$state;return!!s()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(const s of mc){const n="data-"+(e[s]??Qr(s));t[n]=function(){return this.$state[s]()}}delete t.title,Ct[Qs]=t,this.setAttributes(t)}vk(t){t.detail(this)}pa(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),ht(this.el,"--player-width",t+"px"),ht(this.el,"--player-height",e+"px")}Zg(t){const e=t.matches?"coarse":"fine";S(this.el,"data-pointer",e),this.$state.pointer.set(e),this.pa()}get provider(){return this.p}get controls(){return this.W.yc}set controls(t){this.vd.controls.set(t)}get title(){return b(this.$state.providedTitle)}set title(t){if(this.Re){this.Re=!1;return}this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get duration(){return this.$state.duration()}set duration(t){this.vd.duration.set(t)}get paused(){return b(this.$state.paused)}set paused(t){this._g(t)}fc(){this._g(this.$props.paused())}_g(t){t?this.canPlayQueue.k("paused",()=>this.W.Ee()):this.canPlayQueue.k("paused",()=>this.W.Ac())}get muted(){return b(this.$state.muted)}set muted(t){this.vd.muted.set(t)}tk(){this.wk(this.$props.muted())}wk(t){this.canPlayQueue.k("muted",()=>{this.p&&this.p.setMuted(t)})}get currentTime(){return b(this.$state.currentTime)}set currentTime(t){this.$g(t)}Qb(){this.$g(this.$props.currentTime())}$g(t){this.canPlayQueue.k("currentTime",()=>{const{currentTime:e,clipStartTime:s,seekableStart:n,seekableEnd:r}=this.$state;t!==b(e)&&b(()=>{if(!this.p)return;const a=t+s(),o=Math.floor(a)===Math.floor(r()),h=o?r():Math.min(Math.max(n()+.1,a),r()-.1);Number.isFinite(h)&&this.p.setCurrentTime(h)})})}get volume(){return b(this.$state.volume)}set volume(t){this.vd.volume.set(t)}Fc(){this.xk(this.$props.volume())}xk(t){const e=Fi(0,t,1);this.canPlayQueue.k("volume",()=>{this.p&&this.p.setVolume(e)})}get playbackRate(){return b(this.$state.playbackRate)}set playbackRate(t){this.ah(t)}Qe(){this.ah(this.$props.playbackRate())}ah(t){this.canPlayQueue.k("rate",()=>{var e,s;this.p&&((s=(e=this.p).setPlaybackRate)==null||s.call(e,t))})}Me(){this.yk(this.$props.playsInline())}yk(t){this.canPlayQueue.k("playsinline",()=>{var e,s;this.p&&((s=(e=this.p).setPlaysInline)==null||s.call(e,t))})}uk(){var s;let t=this.$props.storage(),e=k(t)?new Qh:t;if(e!=null&&e.onChange){const{source:n}=this.$state,r=k(t)?t:(s=this.el)==null?void 0:s.id,a=Lt(this.zk.bind(this));u(()=>e.onChange(n(),a(),r||void 0))}this.a.storage=e,this.a.textTracks.setStorage(e),A(()=>{var n;(n=e==null?void 0:e.onDestroy)==null||n.call(e),this.a.storage=null,this.a.textTracks.setStorage(null)})}zk(){const{clipStartTime:t,clipEndTime:e}=this.$props,{source:s}=this.$state,n=s();return n.src?`${n.src}:${t()}:${e()}`:null}async play(t){return this.W.Ac(t)}async pause(t){return this.W.Ee(t)}async enterFullscreen(t,e){return this.W.Jg(t,e)}async exitFullscreen(t,e){return this.W.Lg(t,e)}enterPictureInPicture(t){return this.W.He(t)}exitPictureInPicture(t){return this.W.Ge(t)}seekToLiveEdge(t){this.W.Ig(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}startLoadingPoster(t){this.a.delegate.c("can-load-poster",void 0,t)}requestAirPlay(t){return this.W.Ng(t)}requestGoogleCast(t){return this.W.Og(t)}setAudioGain(t,e){return this.W.Hg(t,e)}destroy(){super.destroy(),this.a.remote.setPlayer(null),this.dispatch("destroy")}},Ct.props=bc,Ct.state=ga,Ct);_([x],I.prototype,"canPlayQueue",2);_([x],I.prototype,"remoteControl",2);_([x],I.prototype,"provider",1);_([x],I.prototype,"controls",1);_([x],I.prototype,"orientation",2);_([x],I.prototype,"title",1);_([x],I.prototype,"qualities",1);_([x],I.prototype,"audioTracks",1);_([x],I.prototype,"textTracks",1);_([x],I.prototype,"textRenderers",1);_([x],I.prototype,"duration",1);_([x],I.prototype,"paused",1);_([x],I.prototype,"muted",1);_([x],I.prototype,"currentTime",1);_([x],I.prototype,"volume",1);_([x],I.prototype,"playbackRate",1);_([V],I.prototype,"play",1);_([V],I.prototype,"pause",1);_([V],I.prototype,"enterFullscreen",1);_([V],I.prototype,"exitFullscreen",1);_([V],I.prototype,"enterPictureInPicture",1);_([V],I.prototype,"exitPictureInPicture",1);_([V],I.prototype,"seekToLiveEdge",1);_([V],I.prototype,"startLoading",1);_([V],I.prototype,"startLoadingPoster",1);_([V],I.prototype,"requestAirPlay",1);_([V],I.prototype,"requestGoogleCast",1);_([V],I.prototype,"setAudioGain",1);let eu=I;function Ec(i,t){return fetch(i,t).then(e=>e.text()).then(e=>/type="static"/.test(e)?"on-demand":"live")}function Sa(i,t){return fetch(i,t).then(e=>e.text()).then(e=>{const s=Pc(e);if(s)return Sa(/^https?:/.test(s)?s:new URL(s,i).href,t);const n=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return n==="live"&&Ac(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":n})}function Pc(i){const t=i.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function Ac(i){const t=i.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const ci=new Map;class Cc{constructor(t,e,s,n=[]){this.wd=t,this.a=e,this.X=s,this.Se=!1;const r=new ai,a=new oi,o=new Vi,h=new dc,c=new pc,l=new fc,d=[c,l];this.Te=Lt(()=>{const p=e.$state.remotePlaybackLoader(),m=e.$props.preferNativeHLS()?[o,h,r,a,...d,...n]:[a,o,h,r,...d,...n];return p?[p,...m]:m});const{$state:f}=e;f.sources.set(or(e.$props.src()));for(const p of f.sources()){const m=this.Te().find(T=>T.canPlay(p));if(!m)continue;const g=m.mediaType(p);this.a.$state.source.set(p),this.a.$state.mediaType.set(g),this.a.$state.inferredViewType.set(g),this.X.set(m),this.Se=!0}}get c(){return this.a.delegate.c}connect(){const t=this.X();this.Se&&(this.bh(this.a.$state.source(),t),this.ch(t),this.Se=!1),u(this.Ak.bind(this)),u(this.Bk.bind(this)),u(this.Ck.bind(this)),u(this.Dk.bind(this)),u(this.Ek.bind(this))}Ak(){this.c("sources-change",[...or(this.a.$props.src()),...this.wd()])}Bk(){var a;const{$state:t}=this.a,e=t.sources(),s=b(t.source),n=this.dh(s,e);if(((a=e[0])==null?void 0:a.src)&&!n.src&&!n.type){const{crossOrigin:o}=t,h=$e(o()),c=new AbortController;return Promise.all(e.map(l=>k(l.src)&&l.type==="?"?fetch(l.src,{method:"HEAD",credentials:h,signal:c.signal}).then(d=>(l.type=d.headers.get("content-type")||"??",ci.set(l.src,l.type),l)).catch(()=>l):l)).then(l=>{c.signal.aborted||(this.dh(b(t.source),l),Ot())}),()=>c.abort()}Ot()}dh(t,e){let s={src:"",type:""},n=null,r=new F("sources-change",{detail:{sources:e}}),a=this.Te(),{started:o,paused:h,currentTime:c,quality:l,savedState:d}=this.a.$state;for(const f of e){const p=a.find(m=>m.canPlay(f));if(p){s=f,n=p;break}}if(ri(s)){const f=l(),p=e.find(m=>m.src===(f==null?void 0:f.src));b(o)?d.set({paused:b(h),currentTime:b(c)}):d.set(null),p&&(s=p,r=new F("quality-change",{detail:{quality:f}}))}return cr(t,s)||this.bh(s,n,r),n!==b(this.X)&&this.ch(n,r),s}bh(t,e,s){this.c("source-change",t,s),this.c("media-type-change",(e==null?void 0:e.mediaType(t))||"unknown",s)}ch(t,e){this.a.$providerSetup.set(!1),this.c("provider-change",null,e),t&&b(()=>{var s;return(s=t.preconnect)==null?void 0:s.call(t,this.a)}),this.X.set(t),this.c("provider-loader-change",t,e)}Ck(){const t=this.a.$provider();if(!(!t||b(this.a.$providerSetup))){if(this.a.$state.canLoad()){J(()=>t.setup(),t.scope),this.a.$providerSetup.set(!0);return}b(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t)})}}Dk(){if(!this.a.$providerSetup())return;const t=this.a.$provider(),e=this.a.$state.source(),s=b(this.a.$state.crossOrigin),n=b(this.a.$props.preferNativeHLS);if(!cr(t==null?void 0:t.currentSrc,e)){if(this.a.$state.canLoad()){const r=new AbortController;return qe(e)?(n||!Mi())&&Sa(e.src,{credentials:$e(s),signal:r.signal}).then(a=>{this.c("stream-type-change",a)}).catch(is):Ri(e)?Ec(e.src,{credentials:$e(s),signal:r.signal}).then(a=>{this.c("stream-type-change",a)}).catch(is):this.c("stream-type-change","on-demand"),b(()=>{const a=b(this.a.$state.preload);return t==null?void 0:t.loadSource(e,a).catch(o=>{})}),()=>r.abort()}try{k(e.src)&&Ie(new URL(e.src).origin)}catch{}}}Ek(){const t=this.X(),{providedPoster:e,source:s,canLoadPoster:n}=this.a.$state;if(!t||!t.loadPoster||!s()||!n()||e())return;const r=new AbortController,a=new F("source-change",{detail:s});return t.loadPoster(s(),this.a,r).then(o=>{this.c("poster-change",o||"",a)}).catch(()=>{this.c("poster-change","",a)}),()=>{r.abort()}}}function or(i){return(Y(i)?i:[i]).map(t=>k(t)?{src:t,type:hr(t)}:{...t,type:hr(t.src,t.type)}).sort(t=>t.type==="?"?1:-1)}function hr(i,t){return k(t)&&t.length?t:k(i)&&ci.has(i)?ci.get(i):!t&&qe({src:i,type:""})?"application/x-mpegurl":!t&&Ri({src:i,type:""})?"application/dash+xml":!k(i)||i.startsWith("blob:")?"video/object":i.includes("youtube")||i.includes("youtu.be")?"video/youtube":i.includes("vimeo")&&!i.includes("progressive_redirect")&&!i.includes(".m3u8")?"video/vimeo":"?"}function cr(i,t){return(i==null?void 0:i.src)===(t==null?void 0:t.src)&&(i==null?void 0:i.type)===(t==null?void 0:t.type)}class Oc{constructor(t,e){this.xd=t,this.a=e,this.eh=[],u(this.Fk.bind(this))}Fk(){const t=this.xd();for(const e of this.eh)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||ls.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.eh=t}}var Lc=Object.defineProperty,Dc=Object.getOwnPropertyDescriptor,Mc=(i,t,e,s)=>{for(var n=s>1?void 0:s?Dc(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Lc(t,e,n),n};const ys=class ys extends v{constructor(){super(...arguments),this.wd=w([]),this.xd=w([]),this.X=null,this.Ue=-1}onSetup(){this.a=E(),this.fh=new Cc(this.wd,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.fh.connect(),new Oc(this.xd,this.a);const e=new ResizeObserver(Zt(this.pa.bind(this)));e.observe(t);const s=new MutationObserver(this.Gc.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.pa(),this.Gc(),A(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Ue),this.Ue=requestAnimationFrame(()=>this.Gk(t)),A(()=>{window.cancelAnimationFrame(this.Ue)})}Gk(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.X===e&&(e==null?void 0:e.target)===t&&b(s)||(this.gh(),this.X=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(n=>{this.scope&&b(this.$state.loader)===e&&this.a.delegate.c("provider-change",n)}))}onDestroy(){this.X=null,this.gh()}gh(){this.a.delegate.c("provider-change",null)}pa(){if(!this.el)return;const{player:t,$state:e}=this.a,s=this.el.offsetWidth,n=this.el.offsetHeight;t&&(e.mediaWidth.set(s),e.mediaHeight.set(n),t.el&&(ht(t.el,"--media-width",s+"px"),ht(t.el,"--media-height",n+"px")))}Gc(){const t=[],e=[],s=this.el.children;for(const n of s)if(!n.hasAttribute("data-vds")){if(n instanceof HTMLSourceElement){const r={id:n.id,src:n.src,type:n.type};for(const a of["id","src","width","height","bitrate","codec"]){const o=n.getAttribute(`data-${a}`);k(o)&&(r[a]=/id|src|codec/.test(a)?o:Number(o))}t.push(r)}else if(n instanceof HTMLTrackElement){const r={src:n.src,kind:n.track.kind,language:n.srclang,label:n.label,default:n.default,type:n.getAttribute("data-type")};e.push({id:n.id||ls.createId(r),...r})}}this.wd.set(t),this.xd.set(e),Ot()}};ys.props={loaders:[]},ys.state=new Wt({loader:null});let li=ys;Mc([V],li.prototype,"load",1);function zs(i,t){const e=String(i),s=e.length;if(s<t){const r=t-s;return`${"0".repeat(r)}${i}`}return e}function xa(i){const t=Math.trunc(i/3600),e=Math.trunc(i%3600/60),s=Math.trunc(i%60),n=Number((i-Math.trunc(i)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:n}}function Fs(i,{padHrs:t=null,padMins:e=null,showHrs:s=!1,showMs:n=!1}={}){const{hours:r,minutes:a,seconds:o,fraction:h}=xa(i),c=t?zs(r,2):r,l=e||vt(e)&&i>=3600?zs(a,2):a,d=zs(o,2),f=n&&h>0?`.${String(h).replace(/^0?\./,"")}`:"",p=`${l}:${d}${f}`;return r>0||s?`${c}:${p}`:p}function fs(i){const t=[],{hours:e,minutes:s,seconds:n}=xa(i);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(n>0||t.length===0)&&t.push(`${n} sec`),t.join(" ")}const $s=class $s extends v{constructor(){super(...arguments),this.Ve=!1,this.Hc=-1,this.Xe=-1}onSetup(){this.a=E()}onAttach(t){t.style.display="contents"}onConnect(t){t.setAttribute("data-media-announcer",""),M(t,"role","status"),M(t,"aria-live","polite");const{busy:e}=this.$state;this.setAttributes({"aria-busy":()=>e()?"true":null}),this.Ve=!0,u(this.fc.bind(this)),u(this.Fc.bind(this)),u(this.Hk.bind(this)),u(this.Ik.bind(this)),u(this.Jk.bind(this)),u(this.Kk.bind(this)),u(this.Lk.bind(this)),Ot(),this.Ve=!1}fc(){const{paused:t}=this.a.$state;this.Rb(t()?"Pause":"Play")}Ik(){const{fullscreen:t}=this.a.$state;this.Rb(t()?"Enter Fullscreen":"Exit Fullscreen")}Jk(){const{pictureInPicture:t}=this.a.$state;this.Rb(t()?"Enter PiP":"Exit PiP")}Hk(){const{textTrack:t}=this.a.$state;this.Rb(t()?"Closed-Captions On":"Closed-Captions Off")}Fc(){const{muted:t,volume:e,audioGain:s}=this.a.$state;this.Rb(t()||e()===0?"Mute":`${Math.round(e()*(s()??1)*100)}% ${this.We("Volume")}`)}Kk(){const{seeking:t,currentTime:e}=this.a.$state,s=t();this.Hc>0?(window.clearTimeout(this.Xe),this.Xe=window.setTimeout(()=>{const n=b(e),r=Math.abs(n-this.Hc);if(r>=1){const a=n>=this.Hc,o=fs(r);this.Rb(`${this.We(a?"Seek Forward":"Seek Backward")} ${o}`)}this.Hc=-1,this.Xe=-1},300)):s&&(this.Hc=b(e))}We(t){var s;const{translations:e}=this.$props;return((s=e==null?void 0:e())==null?void 0:s[t||""])??t}Lk(){const{label:t,busy:e}=this.$state,s=this.We(t());if(this.Ve)return;e.set(!0);const n=window.setTimeout(()=>void e.set(!1),150);return this.el&&S(this.el,"aria-label",s),k(s)&&this.dispatch("change",{detail:s}),()=>window.clearTimeout(n)}Rb(t){const{label:e}=this.$state;e.set(t)}};$s.props={translations:null},$s.state=new Wt({label:null,busy:!1});let lr=$s;const zi=class zi extends v{onSetup(){this.a=E(),u(this.Mk.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.a.$state;ht(t,"pointer-events","none"),M(t,"role","group"),this.setAttributes({"data-visible":this.hh.bind(this),"data-fullscreen":s,"data-pip":e}),u(()=>{this.dispatch("change",{detail:this.hh()})}),u(this.Nk.bind(this)),u(()=>{const n=s();for(const r of["top","right","bottom","left"])ht(t,`padding-${r}`,n&&`env(safe-area-inset-${r})`)})}Nk(){if(!this.el)return;const{nativeControls:t}=this.a.$state,e=t();S(this.el,"aria-hidden",e?"true":null),ht(this.el,"display",e?"none":null)}Mk(){const{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:s}=this.$props;t.defaultDelay=e()===2e3?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=s()}hh(){const{controlsVisible:t}=this.a.$state;return t()}};zi.props={hideDelay:2e3,hideOnMouseLeave:!1};let ur=zi;class Ea extends bt{constructor(t){super(),this.j=t,this.zd=-1,this.Ad=-1,this.wb=null,u(this.Ok.bind(this))}onDestroy(){var t;(t=this.wb)==null||t.call(this),this.wb=null}Ok(){const t=this.j.M();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.j.yd(t,e,s)}show(t){var e,s,n;this.Ye(),window.cancelAnimationFrame(this.Ad),this.Ad=-1,(e=this.wb)==null||e.call(this),this.wb=null,this.zd=window.setTimeout(()=>{this.zd=-1;const r=this.j.q();r&&r.style.removeProperty("display"),b(()=>this.j.E(!0,t))},((n=(s=this.j).ih)==null?void 0:n.call(s))??0)}hide(t){this.Ye(),b(()=>this.j.E(!1,t)),this.Ad=requestAnimationFrame(()=>{var s;this.Ye(),this.Ad=-1;const e=this.j.q();if(e){const n=()=>{e.style.display="none",this.wb=null};if(Sh(e)){(s=this.wb)==null||s.call(this);const a=y(e,"animationend",n,{once:!0});this.wb=a}else n()}})}Ye(){window.clearTimeout(this.zd),this.zd=-1}}const Ze=Mt();let qc=0;const Xi=class Xi extends v{constructor(){super(),this.ya=`media-tooltip-${++qc}`,this.M=w(null),this.q=w(null),new xt;const{showDelay:t}=this.$props;new Ea({M:this.M,q:this.q,ih:t,yd(e,s,n){y(e,"touchstart",r=>r.preventDefault(),{passive:!1}),u(()=>{ds()&&y(e,"focus",s),y(e,"blur",n)}),y(e,"mouseenter",s),y(e,"mouseleave",n)},E:this.Pk.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){tt(Ze,{M:this.M,q:this.q,Ze:this.Ze.bind(this),_e:this._e.bind(this),$e:this.$e.bind(this),af:this.af.bind(this)})}Ze(t){var s;this.M.set(t);let e=t.getAttribute("data-media-tooltip");e&&((s=this.el)==null||s.setAttribute(`data-media-${e}-tooltip`,"")),S(t,"data-describedby",this.ya)}_e(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.M.set(null)}$e(t){t.setAttribute("id",this.ya),t.style.display="none",M(t,"role","tooltip"),this.q.set(t)}af(t){t.removeAttribute("id"),t.removeAttribute("role"),this.q.set(null)}Pk(t){const e=this.M(),s=this.q();e&&S(e,"aria-describedby",t?this.ya:null);for(const n of[this.el,e,s])n&&S(n,"data-visible",t)}};Xi.props={showDelay:700};let dr=Xi;const Ji=class Ji extends v{constructor(){super(),new xt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.xb(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.xb(t);const e=j(Ze);A(()=>e.af(t)),A(cs(()=>{this.connectScope&&u(this.bf.bind(this))}))}xb(t){j(Ze).$e(t)}bf(){const{placement:t,offset:e,alignOffset:s}=this.$props;return ma(this.el,this.Qk(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}Qk(){return j(Ze).M()}};Ji.props={placement:"top center",offset:0,alignOffset:0};let fr=Ji;const Zi=class Zi extends bt{constructor(t){super(),this.j=t,new xt,t.Sb&&new uc(t.Sb)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.o,"aria-pressed":this.Rk.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){M(t,"tabindex","0"),M(t,"role","button"),M(t,"type","button")}onConnect(t){Ht(t,this.Sk.bind(this));for(const e of["click","touchstart"])this.listen(e,this.Tk.bind(this))}Rk(){return ns(this.j.o())}Uk(t){Ua(this.j.o)&&this.j.o.set(e=>!e)}Sk(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(this.j.r??this.Uk).call(this,t)}Tk(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}};Zi.props={disabled:!1};let K=Zi;var Ic=Object.defineProperty,Rc=Object.getOwnPropertyDescriptor,_c=(i,t,e,s)=>{for(var n=s>1?void 0:s?Rc(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Ic(t,e,n),n};const tn=class tn extends v{constructor(){super(),this.jh=w(!1),new K({o:this.jh})}get pressed(){return this.jh()}};tn.props={disabled:!1,defaultPressed:!1};let ui=tn;_c([x],ui.prototype,"pressed",1);function Fc(i){return i?"true":"false"}function Q(i){return()=>Fc(i())}const en=class en extends v{constructor(){super(),new K({o:this.o.bind(this),r:this.r.bind(this)})}onSetup(){this.a=E();const{canAirPlay:t,isAirPlayConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.Ic.bind(this),"aria-hidden":Q(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),Bt(t,this.Jc.bind(this))}r(t){this.a.remote.requestAirPlay(t)}o(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="airplay"&&e()!=="disconnected"}Ic(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="airplay"&&e()}Jc(){const{remotePlaybackState:t}=this.a.$state;return`AirPlay ${t()}`}};en.props=K.props;let pr=en;const sn=class sn extends v{constructor(){super(),new K({o:this.o.bind(this),r:this.r.bind(this)})}onSetup(){this.a=E();const{canGoogleCast:t,isGoogleCastConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.Ic.bind(this),"aria-hidden":Q(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),Bt(t,this.Jc.bind(this))}r(t){this.a.remote.requestGoogleCast(t)}o(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="google-cast"&&e()!=="disconnected"}Ic(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="google-cast"&&e()}Jc(){const{remotePlaybackState:t}=this.a.$state;return`Google Cast ${t()}`}};sn.props=K.props;let mr=sn;const nn=class nn extends v{constructor(){super(),new K({o:this.o.bind(this),Sb:"togglePaused",r:this.r.bind(this)})}onSetup(){this.a=E();const{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),Bt(t,"Play")}r(t){const e=this.a.remote;this.o()?e.pause(t):e.play(t)}o(){const{paused:t}=this.a.$state;return!t()}};nn.props=K.props;let br=nn;const rn=class rn extends v{constructor(){super(),new K({o:this.o.bind(this),Sb:"toggleCaptions",r:this.r.bind(this)})}onSetup(){this.a=E(),this.setAttributes({"data-active":this.o.bind(this),"data-supported":()=>!this.Tb(),"aria-hidden":Q(this.Tb.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),Bt(t,"Captions")}r(t){this.a.remote.toggleCaptions(t)}o(){const{textTrack:t}=this.a.$state,e=t();return!!e&&z(e)}Tb(){const{hasCaptions:t}=this.a.$state;return!t()}};rn.props=K.props;let gr=rn;const an=class an extends v{constructor(){super(),new K({o:this.o.bind(this),Sb:"toggleFullscreen",r:this.r.bind(this)})}onSetup(){this.a=E();const{fullscreen:t}=this.a.$state,e=this.Kc.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Q(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),Bt(t,"Fullscreen")}r(t){const e=this.a.remote,s=this.$props.target();this.o()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}o(){const{fullscreen:t}=this.a.$state;return t()}Kc(){const{canFullscreen:t}=this.a.$state;return t()}};an.props={...K.props,target:"prefer-media"};let yr=an;const on=class on extends v{constructor(){super(),new K({o:this.o.bind(this),Sb:"toggleMuted",r:this.r.bind(this)})}onSetup(){this.a=E(),this.setAttributes({"data-muted":this.o.bind(this),"data-state":this.Ic.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),Bt(t,"Mute")}r(t){const e=this.a.remote;this.o()?e.unmute(t):e.mute(t)}o(){const{muted:t,volume:e}=this.a.$state;return t()||e()===0}Ic(){const{muted:t,volume:e}=this.a.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}};on.props=K.props;let $r=on;const hn=class hn extends v{constructor(){super(),new K({o:this.o.bind(this),Sb:"togglePictureInPicture",r:this.r.bind(this)})}onSetup(){this.a=E();const{pictureInPicture:t}=this.a.$state,e=this.Kc.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Q(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),Bt(t,"PiP")}r(t){const e=this.a.remote;this.o()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}o(){const{pictureInPicture:t}=this.a.$state;return t()}Kc(){const{canPictureInPicture:t}=this.a.$state;return t()}};hn.props=K.props;let wr=hn;const cn=class cn extends v{constructor(){super(),new xt}onSetup(){this.a=E();const{seeking:t}=this.a.$state,{seconds:e}=this.$props,s=this.Kc.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":Q(()=>!s())})}onAttach(t){M(t,"tabindex","0"),M(t,"role","button"),M(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),Bt(t,this.Jc.bind(this))}onConnect(t){Ht(t,this.r.bind(this))}Kc(){const{canSeek:t}=this.a.$state;return t()}Jc(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}r(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:n}=this.a.$state,r=n()+e();this.a.remote.seek(r,t)}};cn.props={disabled:!1,seconds:30};let vr=cn;const ln=class ln extends v{constructor(){super(),new xt}onSetup(){this.a=E();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.a.$state,n=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":n,"aria-disabled":Q(()=>t()||s()),"aria-hidden":Q(n)})}onAttach(t){M(t,"tabindex","0"),M(t,"role","button"),M(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){Ht(t,this.r.bind(this))}r(t){const{disabled:e}=this.$props,{liveEdge:s}=this.a.$state;e()||s()||this.a.remote.seekToLiveEdge(t)}};ln.props={disabled:!1};let Tr=ln;const fe=new Wt({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return kr(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return kr(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function kr(i,t,e){const s=t-i,n=e-i;return s>0?n/s:0}class Pa extends bt{constructor(t){super(),this.Hb=t}onConnect(t){this.Ra=new IntersectionObserver(e=>{var s,n;(n=(s=this.Hb).callback)==null||n.call(s,e,this.Ra)},this.Hb),this.Ra.observe(t),A(this.Vk.bind(this))}Vk(){var t;(t=this.Ra)==null||t.disconnect(),this.Ra=void 0}}const Ni=Mt(),we=Mt();function jc(i,t,e,s){return Fi(i,W(e,Wh(s)),t)}function Vc(i,t,e,s){const n=Fi(0,e,1),r=t-i,a=r*n,o=a/s,h=s*Math.round(o);return i+h}const Xs={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class Nc extends bt{constructor(t,e){super(),this.j=t,this.a=e,this.p=null,this.cb=null,this.Ub=null,this.Bn=!1,this.cl=ee(s=>{this.db(this.Cd(s),s)},20,{leading:!0})}onSetup(){ut(we)&&(this.Ra=j(we))}onConnect(){u(this.Wk.bind(this)),u(this.Xk.bind(this)),this.j.kh&&u(this.Yk.bind(this))}Yk(){var e;const{pointer:t}=this.a.$state;if(t()!=="coarse"||!this.j.kh()){this.p=null;return}this.p=(e=this.a.player.el)==null?void 0:e.querySelector("media-provider,[data-media-provider]"),this.p&&(y(this.p,"touchstart",this.Zk.bind(this),{passive:!0}),y(this.p,"touchmove",this._k.bind(this),{passive:!1}))}Zk(t){this.cb=t.touches[0]}_k(t){if(vt(this.cb)||_i(t))return;const e=t.touches[0],s=e.clientX-this.cb.clientX,n=e.clientY-this.cb.clientY,r=this.$state.dragging();!r&&Math.abs(n)>5||r||(t.preventDefault(),Math.abs(s)>20&&(this.cb=e,this.Ub=this.$state.value(),this.cf(this.Ub,t)))}Wk(){const{hidden:t}=this.$props;this.listen("focus",this.Ec.bind(this)),this.listen("keydown",this.ic.bind(this)),this.listen("keyup",this.hc.bind(this)),!(t()||this.j.v())&&(this.listen("pointerenter",this.Oe.bind(this)),this.listen("pointermove",this.$k.bind(this)),this.listen("pointerleave",this.Pe.bind(this)),this.listen("pointerdown",this.al.bind(this)))}Xk(){this.j.v()||!this.$state.dragging()||(y(document,"pointerup",this.bl.bind(this)),y(document,"pointermove",this.cl.bind(this)),y(document,"touchmove",this.dl.bind(this),{passive:!1}))}Ec(){this.db(this.$state.value())}df(t,e){var c,l,d,f;const{value:s,min:n,max:r,dragging:a}=this.$state,o=Math.max(n(),Math.min(t,r()));s.set(o);const h=this.createEvent("value-change",{detail:o,trigger:e});if(this.dispatch(h),(l=(c=this.j).l)==null||l.call(c,h),a()){const p=this.createEvent("drag-value-change",{detail:o,trigger:e});this.dispatch(p),(f=(d=this.j).S)==null||f.call(d,p)}}db(t,e){const{pointerValue:s,dragging:n}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),n()&&this.df(t,e)}Cd(t){let e,s=this.el.getBoundingClientRect(),{min:n,max:r}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:a,height:o}=s;e=(a-t.clientY)/o}else if(this.cb&&pt(this.Ub)){const{width:a}=this.p.getBoundingClientRect(),o=(t.clientX-this.cb.clientX)/a,h=r()-n(),c=h*Math.abs(o);e=(o<0?this.Ub-c:this.Ub+c)/h}else{const{left:a,width:o}=s;e=(t.clientX-a)/o}return Math.max(n(),Math.min(r(),this.j.Da(Vc(n(),r(),e,this.j.qa()))))}Oe(t){this.$state.pointing.set(!0)}$k(t){const{dragging:e}=this.$state;e()||this.db(this.Cd(t),t)}Pe(t){this.$state.pointing.set(!1)}al(t){if(t.button!==0)return;const e=this.Cd(t);this.cf(e,t),this.db(e,t)}cf(t,e){var r,a,o,h;const{dragging:s}=this.$state;if(s())return;s.set(!0),this.a.remote.pauseControls(e);const n=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(n),(a=(r=this.j).ef)==null||a.call(r,n),(h=(o=this.Ra)==null?void 0:o.onDragStart)==null||h.call(o)}lh(t,e){var r,a,o,h;const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.a.remote.resumeControls(e);const n=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(n),(a=(r=this.j).Dd)==null||a.call(r,n),this.cb=null,this.Ub=null,(h=(o=this.Ra)==null?void 0:o.onDragEnd)==null||h.call(o)}ic(t){if(!Object.keys(Xs).includes(t.key))return;const{key:s}=t,n=this.Cn(t);if(!vt(n)){this.db(n,t),this.df(n,t);return}const r=this.Dn(t);this.Bn||(this.Bn=s===this.ff,!this.$state.dragging()&&this.Bn&&this.cf(r,t)),this.db(r,t),this.ff=s}hc(t){if(!Object.keys(Xs).includes(t.key)||!vt(this.Cn(t)))return;const s=this.Bn?this.$state.pointerValue():this.Dn(t);this.df(s,t),this.lh(s,t),this.ff="",this.Bn=!1}Cn(t){let e=t.key,{min:s,max:n}=this.$state;return e==="Home"||e==="PageUp"?s():e==="End"||e==="PageDown"?n():!t.metaKey&&/^[0-9]$/.test(e)?(n()-s())/10*Number(e):null}Dn(t){var T,$;const{key:e,shiftKey:s}=t;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:n}=this.$props,{min:r,max:a,value:o,pointerValue:h}=this.$state,c=this.j.qa(),l=this.j.eb(),d=s?l*n():l,f=Number(Xs[e]),p=d*f,m=this.Bn?h():(($=(T=this.j).Y)==null?void 0:$.call(T))??o(),g=(m+p)/c;return Math.max(r(),Math.min(a(),Number((c*g).toFixed(3))))}bl(t){if(t.button!==0)return;const e=this.Cd(t);this.db(e,t),this.lh(e,t)}dl(t){t.preventDefault()}}const le=Mt(()=>({})),un=class un extends bt{constructor(t){super(),this.j=t,this.Lc=w(!0),this.Mc=w(!0),this.jl=Zt((e,s)=>{var n,r;(n=this.el)==null||n.style.setProperty("--slider-fill",e+"%"),(r=this.el)==null||r.style.setProperty("--slider-pointer",s+"%")})}onSetup(){this.a=E();const t=new xt;t.attach(this),this.$state.focused=t.focused.bind(t),ut(le)||tt(le,{default:"value"}),tt(Ni,{bb:this.$props.orientation,Ed:this.j.v,nh:w(null)}),u(this.N.bind(this)),u(this.fl.bind(this)),u(this.Nc.bind(this)),this.gl(),new Nc(this.j,this.a).attach(this),new Pa({callback:this.gf.bind(this)}).attach(this)}onAttach(t){M(t,"role","slider"),M(t,"tabindex","0"),M(t,"autocomplete","off"),u(this.oh.bind(this))}onConnect(t){A(fa(t,this.Lc.set)),u(this.Ea.bind(this))}gf(t){this.Mc.set(t[0].isIntersecting)}Ea(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Lc()||!this.Mc.bind(this))}N(){const{dragging:t,value:e,min:s,max:n}=this.$state;b(t)||e.set(jc(s(),n(),e(),this.j.qa()))}fl(){this.$state.step.set(this.j.qa())}Nc(){if(!this.j.v())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}il(){return ns(this.j.v())}gl(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:n}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":n,"data-active":s,"aria-disabled":this.il.bind(this),"aria-valuemin":this.j.Tm??this.$state.min,"aria-valuemax":this.j.hf??this.$state.max,"aria-valuenow":this.j.O,"aria-valuetext":this.j.P,"aria-orientation":t})}oh(){const{fillPercent:t,pointerPercent:e}=this.$state;this.jl(W(t(),3),W(e(),3))}};un.props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};let et=un;const ws=class ws extends v{constructor(){super(),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:Math.round,v:this.$props.disabled,O:this.O.bind(this),P:this.P.bind(this)})}onSetup(){u(this.N.bind(this)),u(this.Oc.bind(this))}O(){const{value:t}=this.$state;return Math.round(t())}P(){const{value:t,max:e}=this.$state;return W(t()/e()*100,2)+"%"}N(){const{value:t}=this.$props;this.$state.value.set(t())}Oc(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}};ws.props={...et.props,min:0,max:100,value:0},ws.state=fe;let xe=ws;const At=new Map,Ye=new Map;class Hi{constructor(t,e,s){this.$src=t,this.$crossOrigin=e,this.a=s,this.$images=w([]),u(this.kl.bind(this))}static create(t,e){const s=E();return new Hi(t,e,s)}kl(){var n;const{canLoad:t}=this.a.$state;if(!t())return;const e=this.$src(),s=new AbortController;if(e){if(k(e)&&At.has(e)){const r=At.get(e);if(At.delete(e),At.set(e,r),At.size>30){const a=At.keys().next().value;At.delete(a)}this.$images.set(At.get(e))}else if(k(e)){const r=this.$crossOrigin(),a=e+"::"+r;if(!Ye.has(a)){const o=new Promise(async(h,c)=>{try{const l=await fetch(e,{signal:s.signal,credentials:$e(r)});if(l.headers.get("content-type")==="application/json"){const f=await l.json();if(Y(f))if(f[0]&&"text"in f[0])h(this.ph(f));else{for(let p=0;p<f.length;p++){const m=f[p];Pt(Ra(m),!1),Pt("url"in m&&k(m.url),!1),Pt("startTime"in m&&pt(m.startTime),!1)}h(f)}else h(this.qh(f));return}lt(()=>import("./prod-B_fh46Mt.js").then(f=>f.d),__vite__mapDeps([0,1])).then(async({parseResponse:f})=>{try{const{cues:p}=await f(l);h(this.ph(p))}catch(p){c(p)}})}catch(l){c(l)}}).then(h=>(s.signal.aborted||At.set(a,h),h)).catch(h=>{s.signal.aborted||this.Q(e,h)}).finally(()=>{k(a)&&Ye.delete(a)});Ye.set(a,o)}(n=Ye.get(a))==null||n.then(o=>{s.signal.aborted||this.$images.set(o||[])})}else if(Y(e))try{this.$images.set(this.ll(e))}catch(r){this.Q(e,r)}else try{this.$images.set(this.qh(e))}catch(r){this.Q(e,r)}return()=>{s.abort(),this.$images.set([])}}}ll(t){const e=this.rh();return t.map((s,n)=>(Pt(s.url&&k(s.url),!1),Pt("startTime"in s&&pt(s.startTime),!1),{...s,url:k(s.url)?this.sh(s.url,e):s.url}))}qh(t){var a;Pt(k(t.url),!1),Pt(Y(t.tiles)&&((a=t.tiles)==null?void 0:a.length),!1);const e=new URL(t.url),s=[],n="tile_width"in t?t.tile_width:t.tileWidth,r="tile_height"in t?t.tile_height:t.tileHeight;for(const o of t.tiles)s.push({url:e,startTime:"start"in o?o.start:o.startTime,width:n,height:r,coords:{x:o.x,y:o.y}});return s}ph(t){for(let n=0;n<t.length;n++){const r=t[n];Pt("startTime"in r&&pt(r.startTime),!1),Pt("text"in r&&k(r.text),!1)}const e=[],s=this.rh();for(const n of t){const[r,a]=n.text.split("#"),o=this.ml(a);e.push({url:this.sh(r,s),startTime:n.startTime,endTime:n.endTime,width:o==null?void 0:o.w,height:o==null?void 0:o.h,coords:o&&pt(o.x)&&pt(o.y)?{x:o.x,y:o.y}:void 0})}return e}rh(){let t=b(this.$src);return!k(t)||!/^https?:/.test(t)?location.href:t}sh(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}ml(t){if(!t)return{};const[e,s]=t.split("="),n=s==null?void 0:s.split(","),r={};if(!e||!n)return null;for(let a=0;a<e.length;a++){const o=+n[a];isNaN(o)||(r[e[a]]=o)}return r}Q(t,e){}}const vs=class vs extends v{constructor(){super(...arguments),this.jf=[]}onSetup(){this.a=E(),this.X=Hi.create(this.$props.src,this.$state.crossOrigin),this.Ca(),this.setAttributes({"data-loading":this.Pc.bind(this),"data-error":this.fb.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":Q(this.$state.hidden)})}onConnect(t){u(this.kf.bind(this)),u(this.Ea.bind(this)),u(this.Ca.bind(this)),u(this.Ma.bind(this)),u(this.nl.bind(this)),u(this.th.bind(this))}kf(){const t=this.$state.img();t&&(y(t,"load",this.tb.bind(this)),y(t,"error",this.Q.bind(this)))}Ca(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.a.$state,n=t()!==null?t():s();e.set(n===!0?"anonymous":n)}Ma(){const{src:t,loading:e,error:s}=this.$state;return t()&&(e.set(!0),s.set(null)),()=>{this.ol(),e.set(!1),s.set(null)}}tb(){const{loading:t,error:e}=this.$state;this.th(),t.set(!1),e.set(null)}Q(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}Pc(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}fb(){const{error:t}=this.$state;return!vt(t())}Ea(){const{hidden:t}=this.$state,{duration:e}=this.a.$state,s=this.X.$images();t.set(this.fb()||!Number.isFinite(e())||s.length===0)}uh(){return this.$props.time()}nl(){let t=this.X.$images();if(!t.length)return;let e=this.uh(),{src:s,activeThumbnail:n}=this.$state,r=-1,a=null;for(let o=t.length-1;o>=0;o--){const h=t[o];if(e>=h.startTime&&(!h.endTime||e<h.endTime)){r=o;break}}t[r]&&(a=t[r]),n.set(a),s.set((a==null?void 0:a.url.href)||"")}th(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),s=this.$state.activeThumbnail();if(!e||!s||!t)return;let n=s.width??e.naturalWidth,r=(s==null?void 0:s.height)??e.naturalHeight,{maxWidth:a,maxHeight:o,minWidth:h,minHeight:c,width:l,height:d}=getComputedStyle(this.el);h==="100%"&&(h=parseFloat(l)+""),c==="100%"&&(c=parseFloat(d)+"");let f=Math.max(parseInt(h)/n,parseInt(c)/r),p=Math.min(Math.max(parseInt(h),parseInt(a))/n,Math.max(parseInt(c),parseInt(o))/r),m=!isNaN(p)&&p<1?p:f>1?f:1;this.Vb(t,"--thumbnail-width",`${n*m}px`),this.Vb(t,"--thumbnail-height",`${r*m}px`),this.Vb(e,"width",`${e.naturalWidth*m}px`),this.Vb(e,"height",`${e.naturalHeight*m}px`),this.Vb(e,"transform",s.coords?`translate(-${s.coords.x*m}px, -${s.coords.y*m}px)`:""),this.Vb(e,"max-width","none")}Vb(t,e,s){t.style.setProperty(e,s),this.jf.push(()=>t.style.removeProperty(e))}ol(){for(const t of this.jf)t();this.jf=[]}};vs.props={src:null,time:0,crossOrigin:null},vs.state=new Wt({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});let Sr=vs;var Hc=Object.defineProperty,Wc=Object.getOwnPropertyDescriptor,Bc=(i,t,e,s)=>{for(var n=s>1?void 0:s?Wc(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Hc(t,e,n),n};const Ts=class Ts extends v{get video(){return this.$state.video()}onSetup(){this.a=E(),this.ia=qs(xe.state),this.Ca(),this.setAttributes({"data-loading":this.Pc.bind(this),"data-hidden":this.$state.hidden,"data-error":this.fb.bind(this),"aria-hidden":Q(this.$state.hidden)})}onAttach(t){u(this.pl.bind(this)),u(this.Mb.bind(this)),u(this.Ca.bind(this)),u(this.Ea.bind(this)),u(this.ql.bind(this)),u(this.rl.bind(this))}pl(){const t=this.$state.video();t&&(t.readyState>=2&&this.ed(),y(t,"canplay",this.ed.bind(this)),y(t,"error",this.Q.bind(this)))}Mb(){const{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Ca(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.a.$state,n=t()!==null?t():s();e.set(n===!0?"anonymous":n)}Pc(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}fb(){const{error:t}=this.$state;return!vt(t)}Ea(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:n}=this.a.$state;e.set(s()&&(!t()||this.fb()||!Number.isFinite(n())))}ql(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}ed(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}Q(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}rl(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.a.$state,{pointerRate:n}=this.ia,r=t();e()&&r&&Number.isFinite(s())&&Number.isFinite(n())&&(r.currentTime=n()*s())}};Ts.props={src:null,crossOrigin:null},Ts.state=new Wt({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1});let di=Ts;Bc([x],di.prototype,"video",1);var Uc=Object.defineProperty,Gc=Object.getOwnPropertyDescriptor,Kc=(i,t,e,s)=>{for(var n=s>1?void 0:s?Gc(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Uc(t,e,n),n};const dn=class dn extends v{onSetup(){this.ia=qs(xe.state),this.Qc=j(le),this.sl=Lt(this.getValueText.bind(this))}getValueText(){var m,g;const{type:t,format:e,decimalPlaces:s,padHours:n,padMinutes:r,showHours:a,showMs:o}=this.$props,{value:h,pointerValue:c,min:l,max:d}=this.ia,f=e()??this.Qc.default,p=t()==="current"?h():c();if(f==="percent"){const T=d()-l(),$=p/T*100;return(this.Qc.percent??W)($,s())+"%"}else return f==="time"?(this.Qc.time??Fs)(p,{padHrs:n(),padMins:r(),showHrs:a(),showMs:o()}):(((g=(m=this.Qc).value)==null?void 0:g.call(m,p))??p.toFixed(2))+""}};dn.props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2};let fi=dn;Kc([V],fi.prototype,"getValueText",1);const fn=class fn extends v{constructor(){super(...arguments),this.vh=Zt(()=>{const{Ed:t,bb:e}=this.ia;if(t())return;const s=this.el,{offset:n,noClamp:r}=this.$props;s&&Qc(s,{clamp:!r(),offset:n(),orientation:e()})})}onSetup(){this.ia=j(Ni);const{active:t}=qs(xe.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{nh:e}=this.ia;e.set(t),A(()=>e.set(null)),u(this.vh.bind(this));const s=new ResizeObserver(this.vh.bind(this));s.observe(t),A(()=>s.disconnect())}};fn.props={offset:0,noClamp:!1};let xr=fn;function Qc(i,{clamp:t,offset:e,orientation:s}){const n=getComputedStyle(i),r=parseFloat(n.width),a=parseFloat(n.height),o={top:null,right:null,bottom:null,left:null};if(o[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const h=r/2;if(!t)o.left=`calc(var(--slider-pointer) - ${h}px)`;else{const c=`max(0px, calc(var(--slider-pointer) - ${h}px))`,l=`calc(100% - ${r}px)`;o.left=`min(${c}, ${l})`}}else{const h=a/2;if(!t)o.bottom=`calc(var(--slider-pointer) - ${h}px)`;else{const c=`max(${h}px, calc(var(--slider-pointer) - ${h}px))`,l=`calc(100% - ${a}px)`;o.bottom=`min(${c}, ${l})`}}Object.assign(i.style,o)}const ks=class ks extends v{constructor(){super(...arguments),this.wh=ee(this.Na.bind(this),25)}onSetup(){this.a=E();const{audioGain:t}=this.a.$state;tt(le,{default:"percent",value(e){return(e*(t()??1)).toFixed(2)},percent(e){return Math.round(e*(t()??1))}}),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:Math.round,v:this.v.bind(this),hf:this.hf.bind(this),O:this.O.bind(this),P:this.P.bind(this),S:this.S.bind(this),l:this.l.bind(this)}).attach(this),u(this.Fc.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),M(t,"aria-label","Volume");const{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":Q(()=>!e())})}O(){const{value:t}=this.$state,{audioGain:e}=this.a.$state;return Math.round(t()*(e()??1))}P(){const{value:t,max:e}=this.$state,{audioGain:s}=this.a.$state;return W(t()/e()*(s()??1)*100,2)+"%"}hf(){const{audioGain:t}=this.a.$state;return this.$state.max()*(t()??1)}v(){const{disabled:t}=this.$props,{canSetVolume:e}=this.a.$state;return t()||!e()}Fc(){const{muted:t,volume:e}=this.a.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}Na(t){if(!t.trigger)return;const e=W(t.detail/100,3);this.a.remote.changeVolume(e,t)}l(t){this.wh(t)}S(t){this.wh(t)}};ks.props={...et.props,keyStep:5,shiftKeyMultiplier:2},ks.state=fe;let Er=ks;const Ss=class Ss extends v{onSetup(){this.a=E(),tt(le,{default:"percent",percent:(t,e)=>W(this.$state.value(),e)+"%"}),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:Math.round,v:this.v.bind(this),O:this.O.bind(this),P:this.P.bind(this),S:this.S.bind(this),l:this.l.bind(this)}).attach(this),u(this.Oc.bind(this)),u(this.tl.bind(this))}onAttach(t){t.setAttribute("data-media-audio-gain-slider",""),M(t,"aria-label","Audio Boost");const{canSetAudioGain:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":Q(()=>!e())})}O(){const{value:t}=this.$state;return Math.round(t())}P(){const{value:t}=this.$state;return t()+"%"}Oc(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}tl(){const{audioGain:t}=this.a.$state,e=((t()??1)-1)*100;this.$state.value.set(e),this.dispatch("value-change",{detail:e})}v(){const{disabled:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return t()||!e()}xh(t){if(!t.trigger)return;const e=W(1+t.detail/100,2);this.a.remote.changeAudioGain(e,t)}l(t){this.xh(t)}S(t){this.xh(t)}};Ss.props={...et.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300},Ss.state=fe;let Pr=Ss;const xs=class xs extends v{constructor(){super(...arguments),this.yh=ee(this.ul.bind(this),25)}onSetup(){this.a=E(),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:this.Da,v:this.v.bind(this),O:this.O.bind(this),P:this.P.bind(this),S:this.S.bind(this),l:this.l.bind(this)}).attach(this),u(this.Oc.bind(this)),u(this.Qe.bind(this))}onAttach(t){t.setAttribute("data-media-speed-slider",""),M(t,"aria-label","Speed");const{canSetPlaybackRate:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":Q(()=>!e())})}O(){const{value:t}=this.$state;return t()}P(){const{value:t}=this.$state;return t()+"x"}Oc(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}Qe(){const{playbackRate:t}=this.a.$state,e=t();this.$state.value.set(e),this.dispatch("value-change",{detail:e})}Da(t){return W(t,2)}v(){const{disabled:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return t()||!e()}ul(t){if(!t.trigger)return;const e=t.detail;this.a.remote.changePlaybackRate(e,t)}l(t){this.yh(t)}S(t){this.yh(t)}};xs.props={...et.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2},xs.state=fe;let Ar=xs;const Es=class Es extends v{constructor(){super(...arguments),this.Rc=Lt(()=>{const{qualities:t}=this.a.$state;return Ta(t())}),this.zh=ee(this.Za.bind(this),25)}onSetup(){this.a=E(),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:Math.round,v:this.v.bind(this),O:this.O.bind(this),P:this.P.bind(this),S:this.S.bind(this),l:this.l.bind(this)}).attach(this),u(this.vl.bind(this)),u(this.wl.bind(this))}onAttach(t){t.setAttribute("data-media-quality-slider",""),M(t,"aria-label","Video Quality");const{qualities:e,canSetQuality:s}=this.a.$state,n=Lt(()=>s()&&e().length>0);this.setAttributes({"data-supported":n,"aria-hidden":Q(()=>!n())})}O(){const{value:t}=this.$state;return t()}P(){const{quality:t}=this.a.$state;if(!t())return"";const{height:e,bitrate:s}=t(),n=s&&s>0?`${(s/1e6).toFixed(2)} Mbps`:null;return e?`${e}p${n?` (${n})`:""}`:"Auto"}vl(){const t=this.Rc();this.$state.max.set(Math.max(0,t.length-1))}wl(){let{quality:t}=this.a.$state,e=this.Rc(),s=Math.max(0,e.indexOf(t()));this.$state.value.set(s),this.dispatch("value-change",{detail:s})}v(){const{disabled:t}=this.$props,{canSetQuality:e,qualities:s}=this.a.$state;return t()||s().length<=1||!e()}Za(t){if(!t.trigger)return;const{qualities:e}=this.a,s=b(this.Rc)[t.detail];this.a.remote.changeQuality(e.indexOf(s),t)}l(t){this.zh(t)}S(t){this.zh(t)}};Es.props={...et.props,step:1,keyStep:1,shiftKeyMultiplier:1},Es.state=fe;let Cr=Es;const Ps=class Ps extends v{constructor(){super(),this.Ah=w(null),this.mf=!1;const{noSwipeGesture:t}=this.$props;new et({kh:()=>!t(),Y:this.Y.bind(this),qa:this.qa.bind(this),eb:this.eb.bind(this),Da:this.Da,v:this.v.bind(this),O:this.O.bind(this),P:this.P.bind(this),ef:this.ef.bind(this),S:this.S.bind(this),Dd:this.Dd.bind(this),l:this.l.bind(this)})}onSetup(){this.a=E(),tt(le,{default:"time",value:this.xl.bind(this),time:this.yl.bind(this)}),this.setAttributes({"data-chapters":this.zl.bind(this)}),this.setStyles({"--slider-progress":this.Al.bind(this)}),u(this.Qb.bind(this)),u(this.Bl.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),M(t,"aria-label","Seek")}onConnect(t){u(this.Cl.bind(this)),_s(this.a.textTracks,"chapters",this.Ah.set)}Al(){const{bufferedEnd:t,duration:e}=this.a.$state;return W(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}zl(){var e;const{duration:t}=this.a.$state;return((e=this.Ah())==null?void 0:e.cues.length)&&Number.isFinite(t())&&t()>0}Bl(){this.lf=ee(this.Ja.bind(this),this.$props.seekingRequestThrottle())}Qb(){if(this.$state.hidden())return;const{value:t,dragging:e}=this.$state,s=this.Y();b(e)||(t.set(s),this.dispatch("value-change",{detail:s}))}Cl(){const t=this.a.player.el,{nh:e}=j(Ni);t&&e()&&S(t,"data-preview",this.$state.active())}Ja(t,e){this.a.remote.seeking(t,e)}Dl(t,e,s){this.lf.cancel();const{live:n}=this.a.$state;if(n()&&e>=99){this.a.remote.seekToLiveEdge(s);return}this.a.remote.seek(t,s)}ef(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.a.$state;this.mf=!s(),this.a.remote.pause(t)}}S(t){this.lf(this.Wb(t.detail),t)}Dd(t){const{seeking:e}=this.a.$state;b(e)||this.Ja(this.Wb(t.detail),t);const s=t.detail;this.Dl(this.Wb(s),s,t);const{pauseWhileDragging:n}=this.$props;n()&&this.mf&&(this.a.remote.play(t),this.mf=!1)}l(t){const{dragging:e}=this.$state;e()||!t.trigger||this.Dd(t)}Y(){const{currentTime:t}=this.a.$state;return this.El(t())}qa(){const t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}eb(){const t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Da(t){return W(t,3)}v(){const{disabled:t}=this.$props,{canSeek:e}=this.a.$state;return t()||!e()}O(){const{value:t}=this.$state;return Math.round(t())}P(){const t=this.Wb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?`${fs(t)} out of ${fs(e())}`:"live"}Wb(t){const{duration:e}=this.a.$state;return W(t/100*e(),5)}El(t){const{liveEdge:e,duration:s}=this.a.$state,n=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(n)?0:Number.isFinite(n)?n*100:100}xl(t){const e=this.Wb(t),{live:s,duration:n}=this.a.$state;return Number.isFinite(e)?(s()?e-n():e).toFixed(0):"LIVE"}yl(t,e){const s=this.Wb(t),{live:n,duration:r}=this.a.$state,a=n()?s-r():s;return Number.isFinite(s)?`${a<0?"-":""}${Fs(Math.abs(a),e)}`:"LIVE"}};Ps.props={...et.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100},Ps.state=fe;let pi=Ps;var Yc=Object.defineProperty,zc=Object.getOwnPropertyDescriptor,js=(i,t,e,s)=>{for(var n=s>1?void 0:s?zc(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Yc(t,e,n),n};const pn=class pn extends v{constructor(){super(...arguments),this.yb=null,this.ja=[],this.Gd=w(null),this.ka=w([]),this.Xb=w(-1),this.Hd=w(-1),this.Sc=0,this.Ml=Zt(t=>{var o;let e,s=this.ka(),{clipStartTime:n}=this.a.$state,r=n(),a=this.qf(s);for(let h=this.Sc;h<this.ja.length;h++)if(e=this.pf(s[h],t,r,a),(o=this.ja[h])==null||o.style.setProperty("--chapter-progress",e+"%"),e<100){this.Sc=h;break}}),this.Nl=Lt(this.Ol.bind(this)),this.Id=ji(()=>{const t=b(this.Gd);!this.scope||!t||!t.cues.length||(this.ka.set(this.Pl(t.cues)),this.Xb.set(0),this.Sc=0)},150,!0)}get cues(){return this.ka()}get activeCue(){return this.ka()[this.Xb()]||null}get activePointerCue(){return this.ka()[this.Hd()]||null}onSetup(){this.a=E(),this.Fd=qs(pi.state)}onAttach(t){_s(this.a.textTracks,"chapters",this.Bh.bind(this)),u(this.Fl.bind(this))}onConnect(){A(()=>this.z.bind(this))}onDestroy(){this.Bh(null)}setRefs(t){var e;if(this.ja=t,(e=this.nf)==null||e.dispose(),this.ja.length===1){const s=this.ja[0];s.style.width="100%",s.style.setProperty("--chapter-fill","var(--slider-fill)"),s.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.ja.length>0&&J(()=>this.Gl(),this.nf=ss())}Bh(t){b(this.Gd)!==t&&(this.z(),this.Gd.set(t))}z(){var t;this.ja=[],this.ka.set([]),this.Xb.set(-1),this.Hd.set(-1),this.Sc=0,(t=this.nf)==null||t.dispose()}Gl(){this.ja.length&&u(this.Hl.bind(this))}Hl(){const{hidden:t}=this.Fd;t()||(u(this.Il.bind(this)),u(this.Jl.bind(this)),u(this.Kl.bind(this)),u(this.Ll.bind(this)))}Il(){const t=this.ka();if(!t.length)return;let e,{clipStartTime:s,clipEndTime:n}=this.a.$state,r=s(),a=n()||t[t.length-1].endTime,o=a-r,h=100;for(let c=0;c<t.length;c++)if(e=t[c],this.ja[c]){const l=c===t.length-1?h:W((e.endTime-Math.max(r,e.startTime))/o*100,3);this.ja[c].style.width=l+"%",h-=l}}Jl(){let{liveEdge:t,clipStartTime:e,duration:s}=this.a.$state,{fillPercent:n,value:r}=this.Fd,a=this.ka(),o=t(),h=b(this.Xb),c=a[h],l=o?this.ka.length-1:this.Ch(c&&c.startTime/s()*100<=b(r)?h:0,n());o||!c?this.of(0,a.length,"100%"):l>h?this.of(h,l,"100%"):l<h&&this.of(l+1,h+1,"0%");const d=o?"100%":this.pf(a[l],n(),e(),this.qf(a))+"%";this.Dh(this.ja[l],d),this.Xb.set(l)}Kl(){let{pointing:t,pointerPercent:e}=this.Fd;if(!t()){this.Hd.set(-1);return}const s=this.Ch(0,e());this.Hd.set(s)}of(t,e,s){for(let n=t;n<e;n++)this.Dh(this.ja[n],s)}Dh(t,e){t&&t.style.setProperty("--chapter-fill",e)}Ch(t,e){let s=0,n=this.ka();if(e===0)return 0;if(e===100)return n.length-1;let{clipStartTime:r}=this.a.$state,a=r(),o=this.qf(n);for(let h=t;h<n.length;h++)if(s=this.pf(n[h],e,a,o),s>=0&&s<100)return h;return 0}Ll(){this.Ml(this.Nl())}Ol(){const{bufferedEnd:t,duration:e}=this.a.$state;return W(Math.min(t()/Math.max(e(),1),1),3)*100}qf(t){var n;const{clipEndTime:e}=this.a.$state,s=e();return s>0?s:((n=t[t.length-1])==null?void 0:n.endTime)||0}pf(t,e,s,n){if(this.ka().length===0)return 0;const a=n-s,o=Math.max(0,t.startTime-s),h=Math.min(n,t.endTime)-s,c=o/a,l=c*100,d=Math.min(1,c+(h-o)/a)*100;return Math.max(0,W(e>=d?100:(e-l)/(d-l)*100,3))}Pl(t){let e=[],{clipStartTime:s,clipEndTime:n,duration:r}=this.a.$state,a=s(),o=n()||1/0;t=t.filter(l=>l.startTime<=o&&l.endTime>=a);const h=t[0];h&&h.startTime>a&&e.push(new window.VTTCue(a,h.startTime,""));for(let l=0;l<t.length-1;l++){const d=t[l],f=t[l+1];if(e.push(d),f){const p=f.startTime-d.endTime;p>0&&e.push(new window.VTTCue(d.endTime,d.endTime+p,""))}}const c=t[t.length-1];if(c){e.push(c);const l=r();l>=0&&l-c.endTime>1&&e.push(new window.VTTCue(c.endTime,r(),""))}return e}Fl(){const{source:t}=this.a.$state;t(),this.pc()}pc(){if(!this.scope)return;const{disabled:t}=this.$props;if(t()){this.ka.set([]),this.Xb.set(0),this.Sc=0;return}const e=this.Gd();if(e){const s=this.Id.bind(this);s(),A(y(e,"add-cue",s)),A(y(e,"remove-cue",s)),u(this.Ql.bind(this))}return this.yb=this.Rl(),this.yb&&u(this.Sl.bind(this)),()=>{this.yb&&(this.yb.textContent="",this.yb=null)}}Ql(){this.a.$state.duration(),this.Id()}Sl(){const t=this.activePointerCue||this.activeCue;this.yb&&(this.yb.textContent=(t==null?void 0:t.text)||"")}Tl(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}Rl(){const t=this.Tl();return t?t.querySelector('[data-part="chapter-title"]'):null}};pn.props={disabled:!1};let ue=pn;js([x],ue.prototype,"cues",1);js([x],ue.prototype,"activeCue",1);js([x],ue.prototype,"activePointerCue",1);js([V],ue.prototype,"setRefs",1);const H=Mt();function Xc(i,t){const e=Ro(i,t);for(const{el:s,top:n,left:r}of e)s.scroll({top:n,left:r,behavior:t.behavior})}function Jc(i,t={}){Xc(i,{scrollMode:"if-needed",block:"center",inline:"center",...t})}const Zc=["a[href]","[tabindex]","input","select","button"].map(i=>`${i}:not([aria-hidden='true'])`).join(","),tl=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class el{constructor(t){this.j=t,this.Tc=-1,this.Sa=null,this.ra=[]}get A(){return this.ra}Ul(t){y(t,"focus",this.Ec.bind(this)),this.Sa=t,A(()=>{this.Sa=null})}yd(){this.Sa&&(this.Ha(),y(this.Sa,"keyup",this.hc.bind(this)),y(this.Sa,"keydown",this.ic.bind(this)),A(()=>{this.Tc=-1,this.ra=[]}))}Ha(){this.Tc=0,this.ra=this.Vl()}Eh(t=this.Fh()){const e=this.ra[t];e&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{Jc(e,{behavior:"smooth",boundary:s=>!s.hasAttribute("data-root")})})})}Gh(t=!0){const e=this.Fh();this.Yb(e>=0?e:0,t)}Yb(t,e=!0){var s;this.Tc=t,this.ra[t]?(this.ra[t].focus({preventScroll:!0}),e&&this.Eh(t)):(s=this.Sa)==null||s.focus({preventScroll:!0})}Fh(){return this.ra.findIndex(t=>document.activeElement===t||t.getAttribute("role")==="menuitemradio"&&t.getAttribute("aria-checked")==="true")}Ec(){this.Tc>=0||(this.Ha(),this.Gh())}Hh(t){const e=t.target;if(Na(t)&&e instanceof Element){const s=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!s}return tl.has(t.key)}hc(t){this.Hh(t)&&(t.stopPropagation(),t.preventDefault())}ic(t){if(this.Hh(t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.Wl(t);break;case"Tab":this.Yb(this.rf(t.shiftKey?-1:1));break;case"ArrowUp":this.Yb(this.rf(-1));break;case"ArrowDown":this.Yb(this.rf(1));break;case"Home":case"PageUp":this.Yb(0);break;case"End":case"PageDown":this.Yb(this.ra.length-1);break}}rf(t){var s;let e=this.Tc;do e=(e+t+this.ra.length)%this.ra.length;while(((s=this.ra[e])==null?void 0:s.offsetParent)===null);return e}Vl(){if(!this.Sa)return[];const t=this.Sa.querySelectorAll(Zc),e=[],s=n=>n.getAttribute("role")==="menu";for(const n of t)Se(n)&&n.offsetParent!==null&&pa(this.Sa,n,s)&&e.push(n);return e}}var sl=Object.defineProperty,il=Object.getOwnPropertyDescriptor,Re=(i,t,e,s)=>{for(var n=s>1?void 0:s?il(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&sl(t,e,n),n};let nl=0;const mn=class mn extends v{constructor(){super(),this.T=w(!1),this.Ed=w(!1),this.M=w(null),this.q=w(null),this.Vc=new Set,this.Jd=null,this.Ld=!1,this.Ih=w(!1),this.Md=new Set,this.zf=!1,this.im=this.jm.bind(this),this.Cf=!1,this.gm=this.km.bind(this),this.hm=this.lm.bind(this),this.pa=Zt(()=>{const e=b(this.q);if(!e)return;let s=0,n=getComputedStyle(e),r=[...e.children];for(const a of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])s+=parseFloat(n[a])||0;for(const a of r)if(Se(a)&&a.style.display==="contents")r.push(...a.children);else if(a.nodeType===3)s+=parseFloat(getComputedStyle(a).fontSize);else if(Se(a)){if(!da(a))continue;const o=getComputedStyle(a);s+=a.offsetHeight+(parseFloat(o.marginTop)||0)+(parseFloat(o.marginBottom)||0)}ht(e,"--menu-height",s+"px")}),this.Bf=!1;const{showDelay:t}=this.$props;this.Kd=new Ea({M:this.M,q:this.q,ih:t,yd:(e,s,n)=>{Ht(e,a=>{this.T()?n(a):s(a)});const r=this.Xl();r&&Ht(r,a=>{a.stopPropagation(),n(a)})},E:this.Yl.bind(this)})}get triggerElement(){return this.M()}get contentElement(){return this.q()}get isSubmenu(){return!!this.Uc}onSetup(){this.a=E();const t=++nl;this.sf=`media-menu-${t}`,this.tf=`media-menu-button-${t}`,this.Zb=new el({Wl:this.close.bind(this)}),ut(H)&&(this.Uc=j(H)),this.Zl(),this.setAttributes({"data-open":this.T,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.v.bind(this)}),tt(H,{_l:this.M,q:this.q,T:this.T,_b:w(""),Um:!!this.Uc,gb:this.gb.bind(this),uf:this.uf.bind(this),vf:this.vf.bind(this),wf:this.wf.bind(this),xf:this.xf.bind(this),yf:this.yf.bind(this),$l:e=>{this.Md.add(e),A(()=>{this.Md.delete(e)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){var e;u(this.am.bind(this)),this.isSubmenu&&((e=this.Uc)==null||e.yf(this))}onDestroy(){this.M.set(null),this.q.set(null),this.Jd=null,this.Md.clear()}Zl(){let t=-1,e=ut(we)?j(we):null;tt(we,{onDragStart:()=>{var s;(s=e==null?void 0:e.onDragStart)==null||s.call(e),window.clearTimeout(t),t=-1,this.Ld=!0},onDragEnd:()=>{var s;(s=e==null?void 0:e.onDragEnd)==null||s.call(e),t=window.setTimeout(()=>{this.Ld=!1,t=-1},300)}})}am(){const t=this.bm();this.isSubmenu||this.pa(),this.Jh(t),t&&(u(()=>{const{height:e}=this.a.$state,s=this.q();s&&ht(s,"--player-height",e()+"px")}),this.Zb.yd(),this.listen("pointerup",this.cm.bind(this)),y(window,"pointerup",this.dm.bind(this)))}uf(t){const e=t.el,s=this.isSubmenu,n=Q(this.v.bind(this));M(e,"tabindex",s?"-1":"0"),M(e,"role",s?"menuitem":"button"),S(e,"id",this.tf),S(e,"aria-haspopup","menu"),S(e,"aria-expanded","false"),S(e,"data-root",!this.isSubmenu),S(e,"data-submenu",this.isSubmenu),u(()=>{S(e,"data-open",this.T()),S(e,"aria-disabled",n())}),this.M.set(e),A(()=>{this.M.set(null)})}vf(t){var r;const e=t.el;e.style.setProperty("display","none"),S(e,"id",this.sf),M(e,"role","menu"),M(e,"tabindex","-1"),S(e,"data-root",!this.isSubmenu),S(e,"data-submenu",this.isSubmenu),this.q.set(e),A(()=>this.q.set(null)),u(()=>S(e,"data-open",this.T())),this.Zb.Ul(e),this.Jh(!1);const n=this.em.bind(this);this.isSubmenu?(r=this.Uc)==null||r.$l(n):(t.listen("transitionstart",n),t.listen("transitionend",n),t.listen("animationend",this.pa),t.listen("vds-menu-resize",this.pa))}wf(t){this.Jd=t}Jh(t){const e=b(this.q);e&&S(e,"aria-hidden",ns(!t))}xf(t){this.Ih.set(t)}Yl(t,e){var r,a,o,h,c,l;if(this.zf=Ms(e),e==null||e.stopPropagation(),this.T()===t)return;if(this.v()){t&&this.Kd.hide(e);return}(r=this.el)==null||r.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const s=this.M(),n=this.q();if(s&&(S(s,"aria-controls",t&&this.sf),S(s,"aria-expanded",ns(t))),n&&S(n,"aria-labelledby",t&&this.tf),this.T.set(t),this.fm(e),Ot(),this.zf){t?n==null||n.focus():s==null||s.focus();for(const d of[this.el,n])d&&d.setAttribute("data-keyboard","")}else for(const d of[this.el,n])d&&d.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)!this.isSubmenu&&this.a.activeMenu!==this&&((a=this.a.activeMenu)==null||a.close(e),this.a.activeMenu=this),(h=(o=this.Jd)==null?void 0:o.Af)==null||h.call(o,e);else{if(this.isSubmenu)for(const d of this.Vc)d.close(e);else this.a.activeMenu=null;(l=(c=this.Jd)==null?void 0:c.Vm)==null||l.call(c,e)}t&&requestAnimationFrame(this.Kh.bind(this))}Kh(){this.Bf||this.Cf||(this.Zb.Ha(),requestAnimationFrame(()=>{this.zf?this.Zb.Gh():this.Zb.Eh()}))}bm(){return!this.v()&&this.T()}v(){return this.Ed()||this.Ih()}gb(t){this.Ed.set(t)}cm(t){const e=this.q();this.Ld||e&&Qn(e,t)||t.stopPropagation()}dm(t){const e=this.q();this.Ld||e&&Qn(e,t)||this.close(t)}Xl(){var e;const t=(e=this.el)==null?void 0:e.querySelector('[data-part="close-target"]');return this.el&&t&&pa(this.el,t,s=>s.getAttribute("role")==="menu")?t:null}fm(t){this.isSubmenu||(this.T()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}yf(t){this.Vc.add(t),y(t,"open",this.gm),y(t,"close",this.hm),A(this.im)}jm(t){this.Vc.delete(t)}km(t){var s;this.Cf=!0;const e=this.q();this.isSubmenu&&((s=this.triggerElement)==null||s.setAttribute("aria-hidden","true"));for(const n of this.Vc)if(n!==t.target)for(const r of[n.el,n.triggerElement])r==null||r.setAttribute("aria-hidden","true");if(e){const n=t.target.el;for(const r of e.children)r.contains(n)?r.setAttribute("data-open",""):r!==n&&r.setAttribute("data-hidden","")}}lm(t){var s;this.Cf=!1;const e=this.q();this.isSubmenu&&((s=this.triggerElement)==null||s.setAttribute("aria-hidden","false"));for(const n of this.Vc)for(const r of[n.el,n.triggerElement])r==null||r.setAttribute("aria-hidden","false");if(e)for(const n of e.children)n.removeAttribute("data-open"),n.removeAttribute("data-hidden")}em(t){const e=this.q();e&&t.propertyName==="height"&&(this.Bf=t.type==="transitionstart",S(e,"data-transition",this.Bf?"height":null),this.T()&&this.Kh());for(const s of this.Md)s(t)}open(t){b(this.T)||(this.Kd.show(t),Ot())}close(t){b(this.T)&&(this.Kd.hide(t),Ot())}};mn.props={showDelay:0};let Xt=mn;Re([x],Xt.prototype,"triggerElement",1);Re([x],Xt.prototype,"contentElement",1);Re([x],Xt.prototype,"isSubmenu",1);Re([V],Xt.prototype,"open",1);Re([V],Xt.prototype,"close",1);var rl=Object.defineProperty,al=Object.getOwnPropertyDescriptor,ol=(i,t,e,s)=>{for(var n=s>1?void 0:s?al(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&rl(t,e,n),n};const bn=class bn extends v{constructor(){super(),this.Lh=w(null),new xt}get expanded(){var t;return((t=this.n)==null?void 0:t.T())??!1}onSetup(){this.n=j(H)}onAttach(t){this.n.uf(this),u(this.Nc.bind(this)),M(t,"type","button")}onConnect(t){u(this.mm.bind(this)),this.Gc();const e=new MutationObserver(this.Gc.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),A(()=>e.disconnect()),Ht(t,s=>{this.dispatch("select",{trigger:s})})}Nc(){this.n.xf(this.$props.disabled())}mm(){const t=this.Lh();t&&u(()=>{const e=this.n._b();e&&(t.textContent=e)})}Gc(){var e;const t=(e=this.el)==null?void 0:e.querySelector('[data-part="hint"]');this.Lh.set(t??null)}};bn.props={disabled:!1};let mi=bn;ol([x],mi.prototype,"expanded",1);const gn=class gn extends v{constructor(){super(...arguments),this.G=null}onSetup(){this.a=E(),tt(ts,{xb:this.nm.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;(t=this.G)==null||t.remove(),this.G=null}nm(t){this.Mh(!1),this.G=t,cs(()=>{cs(()=>{this.connectScope&&u(this.Nc.bind(this))})})}Nc(){const{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,s=e();this.Mh(s==="fullscreen"?!t():!s)}Mh(t){var n;if(!this.G)return;let e=this.om(this.$props.container());if(!e)return;const s=this.G.parentElement===e;S(this.G,"data-portal",t),t?s||(this.G.remove(),e.append(this.G)):s&&this.G.parentElement===e&&(this.G.remove(),(n=this.el)==null||n.append(this.G))}om(t){return Se(t)?t:t?document.querySelector(t):document.body}};gn.props={container:null,disabled:!1};let Or=gn;const ts=Mt(),yn=class yn extends v{constructor(){super(),new xt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.n=j(H),this.n.vf(this),ut(ts)){const e=j(ts);e&&(tt(ts,null),e.xb(t),A(()=>e.xb(null)))}}onConnect(t){u(this.bf.bind(this))}bf(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return ma(this.el,this.Bd(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}Bd(){return this.n._l()}};yn.props={placement:null,offset:0,alignOffset:0};let Lr=yn;const bi=Mt();class se extends bt{constructor(){super(...arguments),this.$b=new Set,this.Ta=w(""),this.e=null,this.sm=this.E.bind(this)}get pm(){return Array.from(this.$b).map(t=>t.Ta())}get value(){return this.Ta()}set value(t){this.E(t)}onSetup(){tt(bi,{add:this.qm.bind(this),remove:this.rm.bind(this)})}onAttach(t){ut(H)||M(t,"role","radiogroup"),this.setAttributes({value:this.Ta})}onDestroy(){this.$b.clear()}qm(t){this.$b.has(t)||(this.$b.add(t),t.Nd=this.sm,t.Wc(t.Ta()===this.Ta()))}rm(t){t.Nd=null,this.$b.delete(t)}E(t,e){var a;const s=b(this.Ta);if(!t||t===s)return;const n=this.Nh(s),r=this.Nh(t);n==null||n.Wc(!1,e),r==null||r.Wc(!0,e),this.Ta.set(t),(a=this.l)==null||a.call(this,t,e)}Nh(t){for(const e of this.$b)if(t===b(e.Ta))return e;return null}}var hl=Object.defineProperty,cl=Object.getOwnPropertyDescriptor,Aa=(i,t,e,s)=>{for(var n=s>1?void 0:s?cl(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&hl(t,e,n),n};const $n=class $n extends v{get values(){return this.e.pm}get value(){return this.e.value}set value(t){this.e.value=t}constructor(){super(),this.e=new se,this.e.l=this.l.bind(this)}onSetup(){u(this.N.bind(this))}N(){this.e.value=this.$props.value()}l(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}};$n.props={value:""};let ps=$n;Aa([x],ps.prototype,"values",1);Aa([x],ps.prototype,"value",1);var ll=Object.defineProperty,ul=Object.getOwnPropertyDescriptor,dl=(i,t,e,s)=>{for(var n=s>1?void 0:s?ul(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&ll(t,e,n),n};const wn=class wn extends v{constructor(){super(),this.zb=w(!1),this.e={Ta:this.$props.value,Wc:this.Wc.bind(this),Nd:null},new xt}get checked(){return this.zb()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.zb,"aria-checked":Q(this.zb)})}onAttach(t){const e=ut(H);M(t,"tabindex",e?"-1":"0"),M(t,"role",e?"menuitemradio":"radio"),u(this.N.bind(this))}onConnect(t){this.tm(),Ht(t,this.r.bind(this)),A(this.Fa.bind(this))}Fa(){J(()=>{j(bi).remove(this.e)},this.connectScope)}tm(){j(bi).add(this.e)}N(){var s,n;const{value:t}=this.$props,e=t();b(this.zb)&&((n=(s=this.e).Nd)==null||n.call(s,e))}r(t){var e,s;b(this.zb)||(this.E(!0,t),this.um(t),(s=(e=this.e).Nd)==null||s.call(e,b(this.$props.value),t))}Wc(t,e){b(this.zb)!==t&&this.E(t,e)}E(t,e){this.zb.set(t),this.dispatch("change",{detail:t,trigger:e})}um(t){this.dispatch("select",{trigger:t})}};wn.props={value:""};let gi=wn;dl([x],gi.prototype,"checked",1);var fl=Object.defineProperty,pl=Object.getOwnPropertyDescriptor,Wi=(i,t,e,s)=>{for(var n=s>1?void 0:s?pl(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&fl(t,e,n),n};const vn=class vn extends v{constructor(){super(),this.J=w(null),this.B=w([]),this.e=new se,this.e.l=this.l.bind(this)}get value(){return this.e.value}get disabled(){var t;return!((t=this.B())!=null&&t.length)}onSetup(){this.a=E(),ut(H)&&(this.n=j(H));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){var e;(e=this.n)==null||e.wf({Af:this.Af.bind(this)})}getOptions(){const{clipStartTime:t,clipEndTime:e}=this.a.$state,s=t(),n=e()||1/0;return this.B().map((r,a)=>({cue:r,value:a.toString(),label:r.text,startTime:Fs(Math.max(0,r.startTime-s)),duration:fs(Math.min(n,r.endTime)-Math.max(s,r.startTime))}))}Af(){b(()=>this.Qb())}onConnect(t){u(this.Qb.bind(this)),u(this.sa.bind(this)),u(this.vm.bind(this)),_s(this.a.textTracks,"chapters",this.J.set)}vm(){const t=this.J();if(!t)return;const e=this.Id.bind(this,t);return e(),y(t,"add-cue",e),y(t,"remove-cue",e),()=>{this.B.set([])}}Id(t){const{clipStartTime:e,clipEndTime:s}=this.a.$state,n=e(),r=s()||1/0;this.B.set([...t.cues].filter(a=>a.startTime<=r&&a.endTime>=n))}Qb(){var c;if(!((c=this.n)!=null&&c.T()))return;if(!this.J()){this.e.value="-1";return}const{realCurrentTime:e,clipStartTime:s,clipEndTime:n}=this.a.$state,r=s(),a=n()||1/0,o=e(),h=this.B().findIndex(l=>ii(l,o));this.e.value=h.toString(),h>=0&&cs(()=>{if(!this.connectScope)return;const l=this.B()[h],d=this.el.querySelector("[aria-checked='true']"),f=Math.max(r,l.startTime),p=Math.min(a,l.endTime)-f,m=Math.max(0,o-f)/p*100;d&&ht(d,"--progress",W(m,3)+"%")})}sa(){var t;(t=this.n)==null||t.gb(this.disabled)}l(t,e){if(this.disabled||!e)return;const s=+t,n=this.B(),{clipStartTime:r}=this.a.$state;pt(s)&&(n!=null&&n[s])&&(this.e.value=s.toString(),this.a.remote.seek(n[s].startTime-r(),e),this.dispatch("change",{detail:n[s],trigger:e}))}};vn.props={thumbnails:null};let Ee=vn;Wi([x],Ee.prototype,"value",1);Wi([x],Ee.prototype,"disabled",1);Wi([V],Ee.prototype,"getOptions",1);var ml=Object.defineProperty,bl=Object.getOwnPropertyDescriptor,Bi=(i,t,e,s)=>{for(var n=s>1?void 0:s?bl(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&ml(t,e,n),n};const Tn=class Tn extends v{get value(){return this.e.value}get disabled(){const{audioTracks:t}=this.a.$state;return t().length<=1}constructor(){super(),this.e=new se,this.e.l=this.l.bind(this)}onSetup(){this.a=E(),ut(H)&&(this.n=j(H))}onConnect(t){u(this.N.bind(this)),u(this.sa.bind(this)),u(this.Ua.bind(this))}getOptions(){const{audioTracks:t}=this.a.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}N(){this.e.value=this.Y()}Ua(){var n;const{emptyLabel:t}=this.$props,{audioTrack:e}=this.a.$state,s=e();(n=this.n)==null||n._b.set((s==null?void 0:s.label)??t())}sa(){var t;(t=this.n)==null||t.gb(this.disabled)}Y(){const{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}l(t,e){if(this.disabled)return;const s=this.a.audioTracks.toArray().findIndex(n=>n.label.toLowerCase()===t);if(s>=0){const n=this.a.audioTracks[s];this.a.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:n,trigger:e})}}};Tn.props={emptyLabel:"Default"};let Pe=Tn;Bi([x],Pe.prototype,"value",1);Bi([x],Pe.prototype,"disabled",1);Bi([V],Pe.prototype,"getOptions",1);var gl=Object.defineProperty,yl=Object.getOwnPropertyDescriptor,Ui=(i,t,e,s)=>{for(var n=s>1?void 0:s?yl(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&gl(t,e,n),n};const $l=[1,1.25,1.5,1.75,2,2.5,3,4],kn=class kn extends v{get value(){return this.e.value}get disabled(){const{gains:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return!e()||t().length===0}constructor(){super(),this.e=new se,this.e.l=this.l.bind(this)}onSetup(){this.a=E(),ut(H)&&(this.n=j(H))}onConnect(t){u(this.N.bind(this)),u(this.Ua.bind(this)),u(this.sa.bind(this))}getOptions(){const{gains:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1||s===null?e:String(s*100)+"%",value:s.toString()}))}N(){this.e.value=this.Y()}Ua(){var n;const{normalLabel:t}=this.$props,{audioGain:e}=this.a.$state,s=e();(n=this.n)==null||n._b.set(s===1||s==null?t():String(s*100)+"%")}sa(){var t;(t=this.n)==null||t.gb(this.disabled)}Y(){var e;const{audioGain:t}=this.a.$state;return((e=t())==null?void 0:e.toString())??"1"}l(t,e){if(this.disabled)return;const s=+t;this.a.remote.changeAudioGain(s,e),this.dispatch("change",{detail:s,trigger:e})}};kn.props={normalLabel:"Disabled",gains:$l};let Ae=kn;Ui([x],Ae.prototype,"value",1);Ui([x],Ae.prototype,"disabled",1);Ui([V],Ae.prototype,"getOptions",1);var wl=Object.defineProperty,vl=Object.getOwnPropertyDescriptor,Gi=(i,t,e,s)=>{for(var n=s>1?void 0:s?vl(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&wl(t,e,n),n};const Sn=class Sn extends v{get value(){return this.e.value}get disabled(){const{hasCaptions:t}=this.a.$state;return!t()}constructor(){super(),this.e=new se,this.e.l=this.l.bind(this)}onSetup(){this.a=E(),ut(H)&&(this.n=j(H))}onConnect(t){var e;(e=super.onConnect)==null||e.call(this,t),u(this.N.bind(this)),u(this.sa.bind(this)),u(this.Ua.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(z).map(s=>({track:s,label:s.label,value:this.Df(s)}))]}N(){this.e.value=this.Y()}Ua(){var n;const{offLabel:t}=this.$props,{textTrack:e}=this.a.$state,s=e();(n=this.n)==null||n._b.set(s&&z(s)&&s.mode==="showing"?s.label:t())}sa(){var t;(t=this.n)==null||t.gb(this.disabled)}Y(){const{textTrack:t}=this.a.$state,e=t();return e&&z(e)&&e.mode==="showing"?this.Df(e):"off"}l(t,e){if(this.disabled)return;if(t==="off"){const n=this.a.textTracks.selected;if(n){const r=this.a.textTracks.indexOf(n);this.a.remote.changeTextTrackMode(r,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.a.textTracks.toArray().findIndex(n=>this.Df(n)===t);if(s>=0){const n=this.a.textTracks[s];this.a.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:n,trigger:e})}}Df(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}};Sn.props={offLabel:"Off"};let Ce=Sn;Gi([x],Ce.prototype,"value",1);Gi([x],Ce.prototype,"disabled",1);Gi([V],Ce.prototype,"getOptions",1);var Tl=Object.defineProperty,kl=Object.getOwnPropertyDescriptor,Ki=(i,t,e,s)=>{for(var n=s>1?void 0:s?kl(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&Tl(t,e,n),n};const Sl=[.25,.5,.75,1,1.25,1.5,1.75,2],xn=class xn extends v{get value(){return this.e.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||t().length===0}constructor(){super(),this.e=new se,this.e.l=this.l.bind(this)}onSetup(){this.a=E(),ut(H)&&(this.n=j(H))}onConnect(t){u(this.N.bind(this)),u(this.Ua.bind(this)),u(this.sa.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"",value:s.toString()}))}N(){this.e.value=this.Y()}Ua(){var n;const{normalLabel:t}=this.$props,{playbackRate:e}=this.a.$state,s=e();(n=this.n)==null||n._b.set(s===1?t():s+"")}sa(){var t;(t=this.n)==null||t.gb(this.disabled)}Y(){const{playbackRate:t}=this.a.$state;return t().toString()}l(t,e){if(this.disabled)return;const s=+t;this.a.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}};xn.props={normalLabel:"Normal",rates:Sl};let Oe=xn;Ki([x],Oe.prototype,"value",1);Ki([x],Oe.prototype,"disabled",1);Ki([V],Oe.prototype,"getOptions",1);var xl=Object.defineProperty,El=Object.getOwnPropertyDescriptor,Qi=(i,t,e,s)=>{for(var n=s>1?void 0:s?El(t,e):t,r=i.length-1,a;r>=0;r--)(a=i[r])&&(n=(s?a(t,e,n):a(n))||n);return s&&n&&xl(t,e,n),n};const En=class En extends v{constructor(){super(),this.Rc=Lt(()=>{const{sort:t}=this.$props,{qualities:e}=this.a.$state;return Ta(e(),t()==="descending")}),this.e=new se,this.e.l=this.l.bind(this)}get value(){return this.e.value}get disabled(){const{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length<=1}onSetup(){this.a=E(),ut(H)&&(this.n=j(H))}onConnect(t){u(this.N.bind(this)),u(this.sa.bind(this)),u(this.Ua.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Rc().map(s=>{const n=s.bitrate&&s.bitrate>=0?`${W(s.bitrate/1e6,2)} Mbps`:null;return{quality:s,label:s.height+"p",value:this.Ef(s),bitrate:()=>e()?null:n}})]}N(){this.e.value=this.Y()}Ua(){var r;const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.a.$state,n=s()?s().height+"p":"";(r=this.n)==null||r._b.set(e()?t()+(n?` (${n})`:""):n)}sa(){var t;(t=this.n)==null||t.gb(this.disabled)}l(t,e){if(this.disabled)return;if(t==="auto"){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.a.$state,n=b(s).findIndex(r=>this.Ef(r)===t);if(n>=0){const r=b(s)[n];this.a.remote.changeQuality(n,e),this.dispatch("change",{detail:r,trigger:e})}}Y(){const{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";const s=t();return s?this.Ef(s):"auto"}Ef(t){return t.height+"_"+t.bitrate}};En.props={autoLabel:"Auto",hideBitrate:!1,sort:"descending"};let Le=En;Qi([x],Le.prototype,"value",1);Qi([x],Le.prototype,"disabled",1);Qi([V],Le.prototype,"getOptions",1);const Pn=class Pn extends v{constructor(){super(...arguments),this.p=null,this.Ab=0,this.Oh=-1}onSetup(){this.a=E();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;this.p=(e=this.a.player.el)==null?void 0:e.querySelector("[data-media-provider]"),u(this.wm.bind(this))}wm(){let t=this.$props.event(),e=this.$props.disabled();!this.p||!t||e||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.a.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),y(this.p,t,this.xm.bind(this),{passive:!1}))}xm(t){if(this.$props.disabled()||In(t)&&(t.button!==0||this.a.activeMenu)||Xe(t)&&this.a.activeMenu||_i(t)||!this.ym(t))return;t.MEDIA_GESTURE=!0,t.preventDefault();const e=b(this.$props.event);if(!(e==null?void 0:e.startsWith("dbl")))this.Ab===0&&setTimeout(()=>{this.Ab===1&&this.Ph(t)},250);else if(this.Ab===1){queueMicrotask(()=>this.Ph(t)),clearTimeout(this.Oh),this.Ab=0;return}this.Ab===0&&(this.Oh=window.setTimeout(()=>{this.Ab=0},275)),this.Ab++}Ph(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.zm()&&this.Am(b(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}ym(t){if(!this.el)return!1;if(In(t)||Va(t)||Xe(t)){const e=Xe(t)?t.changedTouches[0]??t.touches[0]:void 0,s=(e==null?void 0:e.clientX)??t.clientX,n=(e==null?void 0:e.clientY)??t.clientY,r=this.el.getBoundingClientRect(),a=n>=r.top&&n<=r.bottom&&s>=r.left&&s<=r.right;return t.type.includes("leave")?!a:a}return!0}zm(){const t=this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}Am(t,e){if(!t)return;const s=new F("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[n,r]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek(b(this.a.$state.currentTime)+(+r||0),e):this.a.remote[za(n)](e),this.dispatch("trigger",{detail:t,trigger:e})}};Pn.props={disabled:!1,event:void 0,action:void 0};let Dr=Pn;class Pl{constructor(t){this.ca=t,this.priority=10,this.J=null,this.Ya=Ei()}attach(){}canRender(){return!0}detach(){this.Ya.empty(),this.ca.reset(),this.J=null}changeTrack(t){!t||this.J===t||(this.Ya.empty(),t.readyState<2?(this.ca.reset(),this.Ya.add(y(t,"load",()=>this.Qh(t),{once:!0}))):this.Qh(t),this.Ya.add(y(t,"add-cue",e=>{this.ca.addCue(e.detail)}),y(t,"remove-cue",e=>{this.ca.removeCue(e.detail)})),this.J=t)}Qh(t){this.ca.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}const An=class An extends v{constructor(){super(...arguments),this.ac=-1}onSetup(){this.a=E(),this.setAttributes({"aria-hidden":Q(this.Tb.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){const e=this.a.player;if(e&&y(e,"vds-font-change",this.Bm.bind(this)),this.ca){u(this.Rh.bind(this));return}lt(()=>import("./prod-B_fh46Mt.js").then(s=>s.d),__vite__mapDeps([0,1])).then(s=>{this.connectScope&&J(()=>{this.L=s;const{CaptionsRenderer:n}=this.L;this.ca=new n(t),this.Bb=new Pl(this.ca),u(this.Rh.bind(this))},this.connectScope)})}onDestroy(){var t;this.Bb&&(this.Bb.detach(),this.a.textRenderers.remove(this.Bb)),(t=this.ca)==null||t.destroy()}Tb(){const{textTrack:t,remotePlaybackState:e,iOSControls:s}=this.a.$state,n=t();return s()||e()==="connected"||!n||!z(n)}Rh(){const{viewType:t}=this.a.$state;return t()==="audio"?this.Cm():this.Dm()}Cm(){return u(this.pc.bind(this)),()=>{this.el.textContent=""}}pc(){if(this.Tb())return;const{textTrack:t}=this.a.$state;this.Sh(),y(t(),"cue-change",this.Sh.bind(this)),u(this.Em.bind(this))}Sh(){this.el.textContent="",this.ac>=0&&this.Ff();const{realCurrentTime:t,textTrack:e}=this.a.$state,{renderVTTCueString:s}=this.L,n=b(t),r=b(e).activeCues;for(const a of r){const o=this.Th(),h=this.Uh();h.innerHTML=s(a,n),o.append(h),this.el.append(h)}}Em(){const{realCurrentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.L;e(this.el,t())}Dm(){return u(this.Fm.bind(this)),u(this.Gm.bind(this)),this.a.textRenderers.add(this.Bb),()=>{this.el.textContent="",this.Bb.detach(),this.a.textRenderers.remove(this.Bb)}}Fm(){this.ca.dir=this.$props.textDir()}Gm(){var s;if(this.Tb())return;const{realCurrentTime:t,textTrack:e}=this.a.$state;this.ca.currentTime=t(),this.ac>=0&&((s=e())!=null&&s.activeCues[0])&&this.Ff()}Bm(){var e,s;if(this.ac>=0){this.Vh();return}const{textTrack:t}=this.a.$state;(e=t())!=null&&e.activeCues[0]?(s=this.ca)==null||s.update(!0):this.Hm()}Hm(){var s,n;const t=this.Th();S(t,"data-example","");const e=this.Uh();S(e,"data-example",""),e.textContent=this.$props.exampleText(),t==null||t.append(e),(s=this.el)==null||s.append(t),(n=this.el)==null||n.setAttribute("data-example",""),this.Vh()}Vh(){window.clearTimeout(this.ac),this.ac=window.setTimeout(this.Ff.bind(this),2500)}Ff(){var t,e;(t=this.el)==null||t.removeAttribute("data-example"),(e=this.el)!=null&&e.querySelector("[data-example]")&&(this.el.textContent=""),this.ac=-1}Th(){const t=document.createElement("div");return S(t,"data-part","cue-display"),t}Uh(){const t=document.createElement("div");return S(t,"data-part","cue"),t}};An.props={textDir:"ltr",exampleText:"Captions look like this."};let Mr=An;const As=class As extends v{constructor(){super(...arguments),this.Xh=""}onSetup(){this.a=E(),this.Mb(),this.Wh(),this.Ca(),this.Ea()}onAttach(t){t.style.setProperty("pointer-events","none"),u(this.kf.bind(this)),u(this.Mb.bind(this)),u(this.Wh.bind(this)),u(this.Ca.bind(this)),u(this.Ea.bind(this));const{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.Pc.bind(this),"data-error":this.fb.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){u(this.Im.bind(this)),u(this.Ma.bind(this))}fb(){const{error:t}=this.$state;return!vt(t())}Im(){const{canLoadPoster:t,poster:e}=this.a.$state;!t()&&e()&&Ie(e(),"preconnect")}Ea(){const{src:t}=this.$props,{poster:e,nativeControls:s}=this.a.$state;this.el&&S(this.el,"display",s()?"none":null),this.$state.hidden.set(this.fb()||!(t()||e())||s())}Pc(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}kf(){const t=this.$state.img();t&&(y(t,"load",this.gd.bind(this)),y(t,"error",this.Q.bind(this)))}Mb(){const{poster:t}=this.a.$props,{canLoadPoster:e,providedPoster:s,inferredPoster:n}=this.a.$state,r=this.$props.src()||"",a=r||t()||n();this.Xh===s()&&s.set(r),this.$state.src.set(e()&&a.length?a:null),this.Xh=r}Wh(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:s}=this.a.$state;e.set(t()||s()?this.$props.alt():null)}Ca(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s,poster:n}=this.a.$state,r=t()!==null?t():s();e.set(/ytimg\.com|vimeo/.test(n()||"")?null:r===!0?"anonymous":r)}Ma(){const{loading:t,error:e}=this.$state,{canLoadPoster:s,poster:n}=this.a.$state;t.set(s()&&!!n()),e.set(null)}gd(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}Q(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}};As.props={src:null,alt:null,crossOrigin:null},As.state=new Wt({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});let qr=As;const Cs=class Cs extends v{constructor(){super(...arguments),this.Xc=w(null),this.Lc=w(!0),this.Mc=w(!0)}onSetup(){this.a=E(),this.Yh();const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this.Zh.bind(this)}),new Pa({callback:this.gf.bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||u(this.Jm.bind(this)),u(this.Yh.bind(this))}onConnect(t){A(fa(t,this.Lc.set)),u(this.Ea.bind(this)),u(this.Km.bind(this))}gf(t){this.Mc.set(t[0].isIntersecting)}Ea(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Lc()||!this.Mc())}Km(){if(!this.$props.toggle()){this.Xc.set(null);return}this.el&&Ht(this.el,this.Lm.bind(this))}Yh(){const{hidden:t,timeText:e}=this.$state,{duration:s}=this.a.$state;if(t())return;const{type:n,padHours:r,padMinutes:a,showHours:o}=this.$props,h=this.Mm(n()),c=s(),l=this.Zh();if(!Number.isFinite(h+c)){e.set("LIVE");return}const d=l?Math.max(0,c-h):h,f=Fs(d,{padHrs:r(),padMins:a(),showHrs:o()});e.set((l?"-":"")+f)}Jm(){if(!this.el)return;const{toggle:t}=this.$props;S(this.el,"role",t()?"timer":null),S(this.el,"tabindex",t()?0:null)}Mm(t){const{bufferedEnd:e,duration:s,currentTime:n}=this.a.$state;switch(t){case"buffered":return e();case"duration":return s();default:return n()}}Zh(){return this.$props.remainder()&&this.Xc()!==!1}Lm(t){if(t.preventDefault(),this.Xc()===null){this.Xc.set(!this.$props.remainder());return}this.Xc.set(e=>!e)}};Cs.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1},Cs.state=new Wt({timeText:"",hidden:!1});let Ir=Cs;export{Q as $,Gl as A,is as B,v as C,Y as D,Ta as E,Gr as F,y as G,Ml as H,Se as I,Bl as J,Rn as K,Qr as L,li as M,Wl as N,tu as O,Zl as P,tr as Q,Ms as R,ht as S,xt as T,cs as U,Ze as V,mi as W,Sr as X,Hl as Y,Ir as Z,pr as _,eu as a,oh as a$,gr as a0,yr as a1,Tr as a2,$r as a3,wr as a4,br as a5,vr as a6,Pe as a7,Ce as a8,Xt as a9,di as aA,Pr as aB,Ar as aC,Cr as aD,ue as aE,fe as aF,qr as aG,J as aH,ss as aI,Fl as aJ,Ll as aK,ca as aL,Il as aM,qe as aN,Wh as aO,F as aP,D as aQ,$t as aR,pt as aS,_l as aT,Rl as aU,hh as aV,ls as aW,C as aX,dh as aY,Ie as aZ,wt as a_,Lr as aa,Oe as ab,Le as ac,qs as ad,fi as ae,jo as af,pi as ag,xr as ah,Er as ai,Vl as aj,xe as ak,Nl as al,Mr as am,Dr as an,lr as ao,ur as ap,Xl as aq,mr as ar,ui as as,dr as at,fr as au,Or as av,Ee as aw,Ae as ax,gi as ay,ps as az,Zt as b,ah as b0,nh as b1,Gs as b2,Yl as b3,Mi as b4,Je as b5,Zs as b6,Ql as b7,Ra as b8,jl as b9,vh as ba,Dl as bb,$i as bc,Lt as c,ql as d,u as e,k as f,tt as g,w as h,Ha as i,Mn as j,Jl as k,Mt as l,j as m,x as n,A as o,b as p,Tt as q,Ul as r,S as s,Xa as t,E as u,Cl as v,Kl as w,zl as x,_s as y,Ol as z};
